<div align="center">

# ğŸš€ NL2SQL Designer

### *Transform Natural Language into Production-Ready Database Schemas*

**A Model-Driven Engineering Approach Powered by AI**

<img src="https://cdn.pixabay.com/photo/2024/01/29/22/47/ai-generated-8540917_640.jpg" alt="NL2SQL Designer Banner" width="100%"/>

---

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.9+-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
[![React](https://img.shields.io/badge/React-18.0+-61DAFB?style=for-the-badge&logo=react&logoColor=black)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-009688?style=for-the-badge&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![Material UI](https://img.shields.io/badge/Material--UI-5.14+-007FFF?style=for-the-badge&logo=mui&logoColor=white)](https://mui.com/)

[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Supported-4169E1?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![MySQL](https://img.shields.io/badge/MySQL-Supported-4479A1?style=for-the-badge&logo=mysql&logoColor=white)](https://www.mysql.com/)
[![SQLite](https://img.shields.io/badge/SQLite-Supported-003B57?style=for-the-badge&logo=sqlite&logoColor=white)](https://www.sqlite.org/)
[![SQL Server](https://img.shields.io/badge/SQL_Server-Supported-CC2927?style=for-the-badge&logo=microsoftsqlserver&logoColor=white)](https://www.microsoft.com/sql-server)
[![Oracle](https://img.shields.io/badge/Oracle-Supported-F80000?style=for-the-badge&logo=oracle&logoColor=white)](https://www.oracle.com/database/)

[![Groq](https://img.shields.io/badge/Powered_by-Groq-FF6B00?style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA0gAAANIBKMbP5AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACqSURBVCiRpdExDoJAEIbh79FoRQsLOIMXsKHxFrYcwlPYeAhOYGNDQkNBTEhggYX7t1hgFxL/ZjLfm8kkA/wZBmANVMAWyIECOAFn4AG0wAP4KbQB9kAJHIEF0ALvLrQGakJjYAZcgRfQfIPWwBp4AjugBG5AS2gKlMAbWAEPYNOFpoTGQA6cgTuwBRpCI+AAPIDLt9ABaIBzF7oC98+DGfAC6i70Aj7A618+aF8qvWr9sV8AAAAASUVORK5CYII=&logoColor=white)](https://groq.com/)
[![Llama 3.1](https://img.shields.io/badge/Llama_3.1-8B_Instant-8B5CF6?style=for-the-badge&logo=meta&logoColor=white)](https://www.llama.com/)

[![GitHub Stars](https://img.shields.io/github/stars/yousef-elgarch1/NL2SQL-Designer-?style=for-the-badge&logo=github)](https://github.com/yousef-elgarch1/NL2SQL-Designer-)
[![GitHub Forks](https://img.shields.io/github/forks/yousef-elgarch1/NL2SQL-Designer-?style=for-the-badge&logo=github)](https://github.com/yousef-elgarch1/NL2SQL-Designer-)
[![GitHub Issues](https://img.shields.io/github/issues/yousef-elgarch1/NL2SQL-Designer-?style=for-the-badge&logo=github)](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues)

[ğŸ“– Documentation](#-table-of-contents) â€¢ [ğŸš€ Quick Start](#-installation--setup) â€¢ [ğŸ¯ Demo](#-screenshots) â€¢ [ğŸ¤ Contribute](#-contributing) â€¢ [ğŸ“ License](#-license)

</div>

---

## ğŸ‘¥ Team Members

<div align="center">

| Role | Name | GitHub |
|------|------|--------|
| ğŸ¯ **Team Lead & Backend Architect** | Youssef ELGARCH | [@yousef-elgarch1](https://github.com/yousef-elgarch1) |
| ğŸ¨ **Frontend Developer** | ELGHEFYRY Salma | - |
| ğŸ’¾ **Database Specialist** | NIJADI Jihane | - |
| ğŸ—ï¸ **MDE & Metamodel Designer** | Doha NEGRAOUI | - |
| ğŸ¤– **AI Integration & Testing** | Nisrine IBNOU-KADY | - |

**ğŸ“ Institution:** Ã‰cole Nationale des Sciences AppliquÃ©es (ENSA)
**ğŸ“… Academic Year:** 2024-2025
**ğŸ“š Course:** Model-Driven Engineering (IngÃ©nierie DirigÃ©e par les ModÃ¨les)

</div>

---

## ğŸ“‹ Table of Contents

<details>
<summary>Click to expand</summary>

1. [ğŸ¯ Project Overview](#-project-overview)
2. [ğŸ¤– AI Technology Stack](#-ai-technology-stack---why-groq--llama-31)
3. [ğŸ’¡ Innovation & MDE Principles](#-innovation--mde-principles)
4. [ğŸ—ï¸ Architecture & Design](#-architecture--design)
5. [ğŸ”„ MDE Transformation Pipeline](#-mde-transformation-pipeline)
6. [ğŸ“Š UML Diagrams](#-uml-diagrams)
7. [âœ¨ Features](#-features)
8. [ğŸ› ï¸ Technology Stack](#-technology-stack)
9. [ğŸ“¸ Screenshots](#-screenshots)
10. [ğŸš€ Installation & Setup](#-installation--setup)
11. [ğŸ“– Usage Guide](#-usage-guide)
12. [ğŸ“ Project Structure](#-project-structure)
13. [ğŸ“¡ API Documentation](#-api-documentation)
14. [ğŸ”® Future Enhancements](#-future-enhancements)
15. [ğŸ¤ Contributing](#-contributing)
16. [ğŸ“„ License](#-license)

</details>

---

## ğŸ¯ Project Overview

<div align="center">

**NL2SQL Designer** is an intelligent platform that transforms natural language descriptions into complete, executable database schemas.

By leveraging **Model-Driven Engineering (MDE)** principles and **Large Language Models (LLMs)**, the platform automates the entire database design processâ€”from conceptual modeling to physical implementation.

</div>

### âŒ The Problem We Solve

<table>
<tr>
<td width="50%">

#### Traditional Database Design

- â±ï¸ **Time-consuming**
  Manual schema creation takes hours or days

- ğŸ› **Error-prone**
  Human mistakes in relationships, constraints

- ğŸ”„ **Repetitive**
  Similar patterns implemented over and over

- ğŸ“Š **Platform-dependent**
  Different SQL dialects require separate work

</td>
<td width="50%">

#### âœ… Our Solution

- âš¡ **Fast**
  Generate complete schemas in seconds

- ğŸ¯ **Accurate**
  AI-powered extraction with validation

- ğŸ” **Reusable**
  One model â†’ Multiple database platforms

- ğŸŒ **Universal**
  5 SQL dialects + 2 UML formats from one source

</td>
</tr>
</table>

---

## ğŸ¤– AI Technology Stack - Why Groq & Llama 3.1?

<div align="center">

### Powered by Industry-Leading AI

<table>
<tr>
<td align="center" width="50%">

<img src="https://th.bing.com/th/id/OIP.6JJwqsDkeuOOOTsFqM64fwHaEc?w=281&h=180&c=7&r=0&o=7&dpr=1.1&pid=1.7&rm=3" alt="Groq Logo" width="200"/>

### **Groq**
**The World's Fastest LLM Inference**

</td>
<td align="center" width="50%">

<img src="https://tse2.mm.bing.net/th/id/OIP.woTiv9SeRjAkusT2R57btAHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Llama Logo" width="200"/>

### **Meta Llama 3.1**
**State-of-the-Art Open Source LLM**

</td>
</tr>
</table>

</div>

### Why We Chose This Combination

<table>
<tr>
<th width="50%">ğŸš€ Groq LPUâ„¢ Inference Engine</th>
<th width="50%">ğŸ¦™ Llama 3.1 (8B Instant)</th>
</tr>
<tr>
<td>

#### Speed
- âš¡ **500+ tokens/second**
- ğŸ”¥ **10x faster** than traditional GPUs
- â±ï¸ **<100ms latency** for real-time responses

#### Reliability
- ğŸ¯ **99.9% uptime**
- ğŸ”„ **Automatic scaling**
- ğŸ’° **Free tier** for development

#### Architecture
- ğŸ—ï¸ **LPU (Language Processing Unit)**
- ğŸ§  **Hardware-optimized** for transformers
- ğŸ“Š **Deterministic performance**

</td>
<td>

#### Intelligence
- ğŸ“ **405B parameter knowledge** (distilled)
- ğŸ§  **Superior reasoning** capabilities
- ğŸŒ **Multilingual** support

#### Accuracy
- âœ… **High precision** entity extraction
- ğŸ”— **Advanced relationship** inference
- ğŸ“ **Context understanding** (128K tokens)

#### Open Source
- ğŸ†“ **Free to use** commercially
- ğŸ”“ **Transparent** model weights
- ğŸ› ï¸ **Fine-tunable** for domain tasks

</td>
</tr>
</table>

### Performance Comparison

```mermaid

graph LR
    subgraph "Traditional GPU Inference"
        A1[Request] -->|500ms| B1[OpenAI GPT-4]
        B1 -->|50 tokens/sec| C1[Response]
    end

    subgraph "Groq LPU Inference âš¡"
        A2[Request] -->|<100ms| B2[Llama 3.1 on Groq]
        B2 -->|500+ tokens/sec| C2[Response]
    end

    style A2 fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style B2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style C2 fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
```

### Why Not Other LLMs?

| Model | Speed | Cost | Accuracy | Why Not? |
|-------|-------|------|----------|----------|
| **GPT-4** | â­â­ | ğŸ’°ğŸ’°ğŸ’° | â­â­â­â­â­ | Too expensive, slower |
| **Claude 3** | â­â­â­ | ğŸ’°ğŸ’° | â­â­â­â­â­ | API limits, cost |
| **Gemini Pro** | â­â­â­ | ğŸ’° | â­â­â­â­ | Rate limits |
| **Groq + Llama 3.1** | â­â­â­â­â­ | ğŸ’° (Free) | â­â­â­â­ | âœ… **Perfect balance!** |

---

## ğŸ’¡ Innovation & MDE Principles

### ğŸŒŸ Why This Project is Innovative

<div align="center">

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px','fontFamily':'Arial'}}}%%
mindmap
  root((NL2SQL<br/>Innovation))
    AI-Powered MDE
      LLM Model Extraction
      Zero Manual Modeling
      Natural Language DSL
    End-to-End Automation
      Schema Generation
      Database Execution
      Quality Analysis
      Test Data Creation
    Multi-Platform
      5 SQL Dialects
      2 UML Formats
      Single Source Model
    Accessibility
      No Technical Expertise
      Plain English Input
      Visual Editing
```

</div>

#### 1ï¸âƒ£ **Natural Language as DSL (Domain-Specific Language)**

<table>
<tr>
<th>âŒ Traditional MDE Approach</th>
<th>âœ… Our Innovative Approach</th>
</tr>
<tr>
<td>

```
1. Learn UML notation
2. Use complex graphical tools
3. Manually define relationships
4. Expert knowledge required
```

</td>
<td>

```
1. Write in plain English
2. Type natural sentences
3. AI extracts relationships
4. Anyone can use it
```

</td>
</tr>
</table>

#### 2ï¸âƒ£ **LLM-Powered Model Extraction (Text-to-Model)**

We combine **Model-Driven Engineering** with **Artificial Intelligence**:

- ğŸ”´ **Traditional MDE:** Manual model creation using graphical editors
- ğŸŸ¢ **Our Innovation:** Automatic model extraction using Groq LLM (Llama 3.1-8B-Instant)

#### 3ï¸âƒ£ **Multi-Target Code Generation**

From **ONE abstract metamodel**, we generate:

<div align="center">

| Target | Format | Purpose |
|--------|--------|---------|
| ğŸ˜ **PostgreSQL** | SQL | Production databases |
| ğŸ¬ **MySQL** | SQL | Web applications |
| ğŸ“¦ **SQLite** | SQL | Mobile/embedded |
| ğŸ¢ **SQL Server** | SQL | Enterprise systems |
| ğŸ”´ **Oracle** | SQL | Large corporations |
| ğŸ“Š **PlantUML** | Diagram | Documentation |
| ğŸ¨ **Mermaid** | Diagram | GitHub/Web |

</div>

This demonstrates the **core value proposition of MDE**: *Write Once, Generate Everywhere*.

#### 4ï¸âƒ£ **End-to-End Automation**

Most MDE tools stop at code generation. **We go further:**

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#10b981','primaryTextColor':'#fff','primaryBorderColor':'#059669','lineColor':'#3b82f6','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'16px'}}}%%
graph LR
    A[Natural Language] -->|T2M| B[Metamodel]
    B -->|M2T| C[SQL Code]
    C -->|Execute| D[Real Database]
    D -->|Analyze| E[Quality Report]
    E -->|Generate| F[Sample Data]

    style A fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
    style B fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style C fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style D fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
    style E fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
    style F fill:#06b6d4,stroke:#0891b2,stroke-width:3px,color:#fff
```

### ğŸ“ MDE Principles Implemented

<div align="center">

| MDE Concept | Implementation | File/Component |
|-------------|----------------|----------------|
| **ğŸ—ï¸ Metamodel** | Database schema metamodel (Entity, Attribute, Relationship) | [`metamodel.py`](backend/models/metamodel.py) |
| **ğŸ“‹ Model** | Specific database schemas created from natural language | User-generated via prompts |
| **ğŸ—£ï¸ DSL** | Natural language for database description | User input (Step 1) |
| **ğŸ“ Text-to-Model (T2M)** | Natural language â†’ Metamodel extraction | [`entity_extractor.py`](backend/services/entity_extractor.py) |
| **ğŸ”„ Model-to-Text (M2T)** | Metamodel â†’ SQL code generation | [`sql_generator.py`](backend/services/sql_generator.py) |
| **ğŸ“Š Model-to-Text (M2T)** | Metamodel â†’ UML diagrams | [`plantuml_generator.py`](backend/services/plantuml_generator.py) |
| **âœ… Model Validation** | Constraint checking (PKs, FKs, integrity) | `metamodel.validate()` |
| **ğŸŒ Multi-Platform** | 5 SQL dialects from one model | Templates in [`templates/`](backend/templates/) |
| **ğŸ”¤ Abstract Syntax** | Metamodel classes | Entity, Attribute, Relationship |
| **ğŸ¨ Concrete Syntax** | Visual diagrams + SQL code | PlantUML/Mermaid renderings |

</div>

---

## ğŸ—ï¸ Architecture & Design

### High-Level System Architecture

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px','clusterBkg':'#374151','clusterBorder':'#6b7280','edgeLabelBackground':'#1f2937'}}}%%
graph TB
    subgraph "ğŸ¨ Frontend Layer - React + TypeScript"
        UI[User Interface<br/>Material-UI Components<br/>ğŸ­]
        STATE[State Management<br/>React Hooks<br/>ğŸ”„]
        API_CLIENT[API Client<br/>Axios HTTP<br/>ğŸ“¡]
    end

    subgraph "âš™ï¸ Backend Layer - FastAPI + Python"
        API[REST API<br/>FastAPI Routes<br/>ğŸš€]
        LLM[LLM Service<br/>Groq API<br/>ğŸ¤–]
        EXTRACTOR[Entity Extractor<br/>T2M Transformation<br/>ğŸ“]
        VALIDATOR[Model Validator<br/>Constraint Checking<br/>âœ…]
        GENERATOR[Code Generators<br/>M2T Transformation<br/>ğŸ”„]
        DB_EXEC[Database Executor<br/>SQLAlchemy<br/>ğŸ’¾]
    end

    subgraph "ğŸŒ External Services"
        GROQ[Groq LLM API<br/>llama-3.1-8b-instant<br/>âš¡]
        PLANTUML[PlantUML Server<br/>Diagram Rendering<br/>ğŸ“Š]
    end

    subgraph "ğŸ“¤ Output Artifacts"
        SQL[(SQL Scripts<br/>5 Dialects<br/>ğŸ“œ)]
        UML[UML Diagrams<br/>PlantUML/Mermaid<br/>ğŸ¨]
        REAL_DB[(Real Databases<br/>PostgreSQL/MySQL/etc<br/>ğŸ—„ï¸)]
    end

    UI --> STATE
    STATE --> API_CLIENT
    API_CLIENT --> API
    API --> LLM
    LLM --> GROQ
    API --> EXTRACTOR
    EXTRACTOR --> VALIDATOR
    VALIDATOR --> GENERATOR
    GENERATOR --> SQL
    GENERATOR --> UML
    UML --> PLANTUML
    GENERATOR --> DB_EXEC
    DB_EXEC --> REAL_DB

    style UI fill:#61dafb,stroke:#0088cc,stroke-width:3px,color:#000
    style API fill:#009688,stroke:#00796b,stroke-width:3px,color:#fff
    style LLM fill:#ff6b6b,stroke:#ee5a52,stroke-width:3px,color:#fff
    style GENERATOR fill:#4ecdc4,stroke:#45b7af,stroke-width:3px,color:#fff
    style SQL fill:#95e1d3,stroke:#7dd3c0,stroke-width:3px,color:#000
    style UML fill:#f38181,stroke:#f07167,stroke-width:3px,color:#fff
    style REAL_DB fill:#aa96da,stroke:#9f86c6,stroke-width:3px,color:#fff
    style GROQ fill:#ff9f1c,stroke:#ffbf69,stroke-width:3px,color:#000
```

---

## ğŸ”„ MDE Transformation Pipeline

This is the **heart** of our Model-Driven Engineering implementation:

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'13px','clusterBkg':'#374151','clusterBorder':'#6b7280'}}}%%
graph LR
    subgraph "ğŸ“ Input Layer - DSL"
        NL["ğŸ—£ï¸ Natural Language DSL<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Create a library with<br/>books, authors, borrowers"]
    end

    subgraph "ğŸ”„ Text-to-Model Transformation"
        PARSE["ğŸ§  LLM Parser<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Groq API<br/>Llama 3.1-8B"]
        EXTRACT["ğŸ“Š Entity Extraction<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Entities: Book, Author<br/>Attributes: id, title<br/>Relationships: Bookâ†’Author"]
    end

    subgraph "ğŸ—ï¸ Metamodel Layer - PIM"
        META["ğŸ“ Abstract Metamodel<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Entity: name, attributes<br/>Attribute: type, constraints<br/>Relationship: cardinality"]
    end

    subgraph "âœ… Validation Layer"
        VALIDATE["ğŸ” Model Validator<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>âœ“ Primary keys exist<br/>âœ“ Foreign keys valid<br/>âœ“ Referential integrity"]
    end

    subgraph "ğŸ¨ Model-to-Text Transformation"
        GEN_SQL["ğŸ’¾ SQL Generator<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Jinja2 Templates<br/>Multi-dialect"]
        GEN_UML["ğŸ“Š UML Generator<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>PlantUML<br/>Mermaid"]
        GEN_DATA["ğŸ² Data Generator<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Smart recognition<br/>Realistic data"]
    end

    subgraph "ğŸ“¤ Output Layer - PSM"
        POSTGRESQL[("ğŸ˜ PostgreSQL SQL")]
        MYSQL[("ğŸ¬ MySQL SQL")]
        SQLITE[("ğŸ“¦ SQLite SQL")]
        SQLSERVER[("ğŸ¢ SQL Server")]
        ORACLE[("ğŸ”´ Oracle SQL")]
        PLANTUML["ğŸ“ˆ PlantUML"]
        MERMAID["ğŸ¨ Mermaid"]
        SAMPLES["ğŸ“‹ Sample Data"]
    end

    NL --> PARSE
    PARSE --> EXTRACT
    EXTRACT --> META
    META --> VALIDATE
    VALIDATE --> GEN_SQL
    VALIDATE --> GEN_UML
    VALIDATE --> GEN_DATA

    GEN_SQL --> POSTGRESQL
    GEN_SQL --> MYSQL
    GEN_SQL --> SQLITE
    GEN_SQL --> SQLSERVER
    GEN_SQL --> ORACLE

    GEN_UML --> PLANTUML
    GEN_UML --> MERMAID

    GEN_DATA --> SAMPLES

    style NL fill:#fef3c7,stroke:#f59e0b,stroke-width:3px,color:#000
    style PARSE fill:#fecaca,stroke:#ef4444,stroke-width:3px,color:#000
    style META fill:#bfdbfe,stroke:#3b82f6,stroke-width:3px,color:#000
    style VALIDATE fill:#bbf7d0,stroke:#10b981,stroke-width:3px,color:#000
    style GEN_SQL fill:#bae6fd,stroke:#0ea5e9,stroke-width:3px,color:#000
    style POSTGRESQL fill:#336791,stroke:#2d5a7b,stroke-width:2px,color:#fff
    style MYSQL fill:#00758f,stroke:#00546b,stroke-width:2px,color:#fff
    style SQLITE fill:#003b57,stroke:#002b3d,stroke-width:2px,color:#fff
    style PLANTUML fill:#fbbd08,stroke:#f8b000,stroke-width:2px,color:#000
```

### MDE Abstraction Levels

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px'}}}%%
graph TD
    subgraph "ğŸ”· M3 - Meta-Metamodel Level"
        M3["MOF / Ecore-like Structure<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Pydantic BaseModel<br/>Python Type System"]
    end

    subgraph "ğŸ”¶ M2 - Metamodel Level"
        M2["Database Schema Metamodel<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Entity, Attribute, Relationship<br/>DataType, CardinalityType"]
    end

    subgraph "ğŸ”µ M1 - Model Level"
        M1["Concrete Database Models<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Library: Book, Author, Borrower<br/>E-commerce: Product, Order"]
    end

    subgraph "ğŸŸ¢ M0 - Instance Level"
        M0["Actual Database Data<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Book#1: The Great Gatsby<br/>Author#1: F. Scott Fitzgerald"]
    end

    M3 -.defines.-> M2
    M2 -.defines.-> M1
    M1 -.defines.-> M0

    style M3 fill:#dbeafe,stroke:#3b82f6,stroke-width:3px,color:#000
    style M2 fill:#bfdbfe,stroke:#2563eb,stroke-width:3px,color:#000
    style M1 fill:#93c5fd,stroke:#1d4ed8,stroke-width:3px,color:#000
    style M0 fill:#60a5fa,stroke:#1e40af,stroke-width:3px,color:#fff
```

---

## ğŸ“Š UML Diagrams

### ğŸ¯ Use Case Diagram

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','actorBkg':'#10b981','actorBorder':'#059669','actorTextColor':'#fff','labelBoxBkgColor':'#374151','labelBoxBorderColor':'#6b7280','labelTextColor':'#f3f4f6','loopTextColor':'#f3f4f6','fontSize':'14px'}}}%%
graph TB
    subgraph System["ğŸ¯ NL2SQL Designer Platform"]
        UC1[Enter Natural Language<br/>Description]
        UC2[Validate Prompt]
        UC3[Extract Entities &<br/>Relationships]
        UC4[Edit Metamodel]
        UC5[Generate SQL Code]
        UC6[Generate UML Diagrams]
        UC7[Execute on Database]
        UC8[Analyze Schema Quality]
        UC9[Generate Sample Data]
    end

    User[("ğŸ‘¤ Database<br/>Designer")]
    Teacher[("ğŸ‘¨â€ğŸ« Teacher/<br/>Reviewer")]
    DBA[("ğŸ‘¨â€ğŸ’¼ Database<br/>Administrator")]

    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9

    Teacher --> UC6
    Teacher --> UC8

    DBA --> UC7
    DBA --> UC5

    UC2 -.includes.-> UC1
    UC3 -.includes.-> UC2
    UC5 -.includes.-> UC4
    UC6 -.includes.-> UC4
    UC7 -.includes.-> UC5

    style User fill:#10b981,stroke:#059669,stroke-width:3px
    style Teacher fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px
    style DBA fill:#f59e0b,stroke:#d97706,stroke-width:3px
```

### ğŸ›ï¸ Class Diagram - Core Metamodel

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'13px','classBkg':'#374151','classBorder':'#6b7280'}}}%%
classDiagram
    class Metamodel {
        +List~Entity~ entities
        +List~Relationship~ relationships
        +Dict metadata
        +get_entity(name: str) Entity
        +validate() Dict
    }

    class Entity {
        +str name
        +List~Attribute~ attributes
        +str description
        +Dict position
        +get_primary_key() Attribute
    }

    class Attribute {
        +str name
        +DataType data_type
        +int length
        +bool is_primary_key
        +bool is_foreign_key
        +bool is_unique
        +bool is_nullable
        +Any default_value
        +str description
    }

    class Relationship {
        +str name
        +str source_entity
        +str target_entity
        +CardinalityType cardinality
        +str source_foreign_key
        +str target_foreign_key
        +str description
    }

    class DataType {
        <<enumeration>>
        INTEGER
        VARCHAR
        TEXT
        DATE
        BOOLEAN
        DECIMAL
        JSON
    }

    class CardinalityType {
        <<enumeration>>
        ONE_TO_ONE
        ONE_TO_MANY
        MANY_TO_ONE
        MANY_TO_MANY
    }

    Metamodel "1" *-- "0..*" Entity : contains
    Metamodel "1" *-- "0..*" Relationship : contains
    Entity "1" *-- "1..*" Attribute : has
    Attribute --> DataType : uses
    Relationship --> CardinalityType : defines
    Relationship --> Entity : connects

    style Metamodel fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
    style Entity fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style Attribute fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style Relationship fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
    style DataType fill:#ef4444,stroke:#dc2626,stroke-width:2px,color:#fff
    style CardinalityType fill:#06b6d4,stroke:#0891b2,stroke-width:2px,color:#fff
```

### ğŸ”„ Sequence Diagram - SQL Generation Flow

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','actorBkg':'#10b981','actorBorder':'#059669','actorLineColor':'#6b7280','signalColor':'#f3f4f6','signalTextColor':'#f3f4f6','labelBoxBkgColor':'#374151','labelBoxBorderColor':'#6b7280','labelTextColor':'#f3f4f6','loopTextColor':'#f3f4f6','noteBkgColor':'#fef3c7','noteBorderColor':'#f59e0b','noteTextColor':'#000','fontSize':'13px'}}}%%
sequenceDiagram
    actor User as ğŸ‘¤ User
    participant UI as ğŸ¨ React UI
    participant API as ğŸš€ FastAPI
    participant LLM as ğŸ¤– Groq LLM
    participant Validator as âœ… Validator
    participant Generator as ğŸ”„ SQL Generator
    participant DB as ğŸ’¾ Database

    User->>UI: Enter natural language
    UI->>API: POST /prompt/validate
    API->>LLM: Validate prompt
    LLM-->>API: Validation result
    API-->>UI: {is_valid: true}
    UI-->>User: âœ“ Valid prompt

    User->>UI: Click "Extract Entities"
    UI->>API: POST /prompt/extract
    API->>LLM: Extract entities
    LLM-->>API: {entities, relationships}
    API-->>UI: Metamodel JSON
    UI-->>User: Display entities

    User->>UI: Edit & confirm model
    User->>UI: Click "Generate SQL"
    UI->>API: POST /sql/generate
    API->>Validator: Validate metamodel
    Validator-->>API: {is_valid: true}
    API->>Generator: Generate SQL
    Generator-->>API: SQL code
    API-->>UI: {sql_code, dialect}
    UI-->>User: Display SQL

    User->>UI: Click "Execute"
    UI->>API: POST /database/execute
    API->>DB: Create schema
    DB-->>API: Success
    API-->>UI: {success: true}
    UI-->>User: âœ“ Database created!
```

### âš™ï¸ Activity Diagram - Complete Workflow

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px','edgeLabelBackground':'#1f2937'}}}%%
graph TD
    Start([ğŸ‘¤ User Starts]) --> Input[ğŸ“ Enter Natural Language<br/>Description]
    Input --> Validate{âœ… Valid<br/>Prompt?}
    Validate -->|No| Suggestions[ğŸ’¡ Show Suggestions]
    Suggestions --> Input
    Validate -->|Yes| Extract[ğŸ”„ Extract Entities<br/>via Groq LLM]
    Extract --> Review{ğŸ‘€ Review<br/>Entities?}
    Review -->|Edit| EditModel[âœï¸ Edit Metamodel<br/>Add/Remove/Modify]
    EditModel --> Review
    Review -->|Confirm| Choice{ğŸ¯ What to<br/>Generate?}

    Choice -->|SQL| SelectDialect[ğŸ—„ï¸ Select SQL Dialect]
    SelectDialect --> GenSQL[ğŸ’¾ Generate SQL Code]
    GenSQL --> Execute{ğŸš€ Execute on<br/>Database?}
    Execute -->|Yes| ConnectDB[ğŸ”Œ Configure Connection]
    ConnectDB --> TestConn{ğŸ§ª Test<br/>Connection?}
    TestConn -->|Fail| FixConfig[ğŸ”§ Fix Configuration]
    FixConfig --> ConnectDB
    TestConn -->|Success| CreateDB[âœ¨ Create Database]
    CreateDB --> Verify[âœ“ Verify in DBMS]
    Execute -->|No| Download[ğŸ“¥ Download SQL]

    Choice -->|UML| GenUML[ğŸ“Š Generate UML Diagrams]
    GenUML --> ViewDiagram[ğŸ‘ï¸ View PlantUML/Mermaid]

    Choice -->|Optimize| Analyze[ğŸ” Analyze Schema Quality]
    Analyze --> ShowSuggestions[ğŸ’¡ Show Optimization<br/>Suggestions]

    Choice -->|Sample Data| GenData[ğŸ² Generate Sample Data]
    GenData --> ExportData[ğŸ“¤ Export JSON/SQL/CSV]

    Download --> End([âœ… Complete])
    Verify --> End
    ViewDiagram --> End
    ShowSuggestions --> End
    ExportData --> End

    style Start fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style End fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
    style Extract fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style GenSQL fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
    style CreateDB fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
```

---

## âœ¨ Features

### ğŸ¨ Core Features

<details>
<summary><b>1. ğŸ—£ï¸ Natural Language Processing</b></summary>

- **Intelligent Prompt Validation**: AI checks if your description is sufficient
- **Entity Recognition**: Automatically identifies tables and their relationships
- **Attribute Extraction**: Detects columns, data types, and constraints
- **Relationship Inference**: Determines foreign keys and cardinality

</details>

<details>
<summary><b>2. ğŸ¯ Interactive Metamodel Editor</b></summary>

- **Visual Entity Cards**: Clean, modern interface for each table
- **Drag-and-Drop**: Reorder entities and attributes
- **Live Editing**: Add, modify, delete entities and attributes in real-time
- **Relationship Management**: Visual relationship editor with cardinality selection

</details>

<details>
<summary><b>3. ğŸ’¾ Multi-Database SQL Generation</b></summary>

| Database | Version | Special Features |
|----------|---------|------------------|
| ğŸ˜ **PostgreSQL** | 9.0+ | SERIAL, JSONB, advanced constraints |
| ğŸ¬ **MySQL** | 5.7+ | AUTO_INCREMENT, ENGINE=InnoDB |
| ğŸ“¦ **SQLite** | 3.0+ | Lightweight, zero-config |
| ğŸ¢ **SQL Server** | 2016+ | IDENTITY, NVARCHAR |
| ğŸ”´ **Oracle** | 11g+ | SEQUENCE, NUMBER types |

</details>

<details>
<summary><b>4. ğŸ“Š UML Diagram Generation</b></summary>

- **PlantUML Class Diagrams**: Industry-standard UML notation
- **Mermaid ER Diagrams**: Modern, GitHub-compatible diagrams
- **Automatic Rendering**: Real-time diagram visualization
- **Export Options**: Download as PNG or SVG

</details>

<details>
<summary><b>5. ğŸš€ Database Execution</b></summary>

- **Direct Connection**: Connect to PostgreSQL, MySQL, SQLite servers
- **Automatic Schema Creation**: One-click database deployment
- **Connection Testing**: Verify credentials before execution
- **Multi-Database Support**: Switch between different database types

</details>

<details>
<summary><b>6. ğŸ” Schema Optimization Analysis</b></summary>

- **AI-Powered Suggestions**: Intelligent schema improvements
- **Performance Tips**: Indexing, normalization, denormalization advice
- **Security Checks**: Identify potential security issues
- **Best Practices**: Industry standards and conventions
- **Priority Scoring**: High/Medium/Low priority recommendations

</details>

<details>
<summary><b>7. ğŸ² Sample Data Generation</b></summary>

- **Smart Field Recognition**: Detects names, emails, dates, etc.
- **Realistic Data**: Uses Faker library for authentic-looking data
- **Configurable Volume**: Choose number of rows per table
- **Multiple Formats**: Export as JSON, SQL INSERT statements, CSV
- **Referential Integrity**: Maintains foreign key relationships

</details>

---

## ğŸ› ï¸ Technology Stack

### Frontend Stack

<div align="center">

| Technology | Version | Purpose | Badge |
|------------|---------|---------|-------|
| **React** | 18.2+ | UI Framework | ![React](https://img.shields.io/badge/React-18.2+-61DAFB?style=flat&logo=react&logoColor=black) |
| **TypeScript** | 5.0+ | Type Safety | ![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?style=flat&logo=typescript&logoColor=white) |
| **Material-UI** | 5.14+ | Component Library | ![MUI](https://img.shields.io/badge/MUI-5.14+-007FFF?style=flat&logo=mui&logoColor=white) |
| **Vite** | 4.4+ | Build Tool | ![Vite](https://img.shields.io/badge/Vite-4.4+-646CFF?style=flat&logo=vite&logoColor=white) |
| **Axios** | 1.5+ | HTTP Client | ![Axios](https://img.shields.io/badge/Axios-1.5+-5A29E4?style=flat&logo=axios&logoColor=white) |

</div>

### Backend Stack

<div align="center">

| Technology | Version | Purpose | Badge |
|------------|---------|---------|-------|
| **Python** | 3.9+ | Backend Language | ![Python](https://img.shields.io/badge/Python-3.9+-3776AB?style=flat&logo=python&logoColor=white) |
| **FastAPI** | 0.104+ | Web Framework | ![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-009688?style=flat&logo=fastapi&logoColor=white) |
| **Pydantic** | 2.4+ | Data Validation | ![Pydantic](https://img.shields.io/badge/Pydantic-2.4+-E92063?style=flat&logo=pydantic&logoColor=white) |
| **SQLAlchemy** | 2.0+ | Database ORM | ![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0+-D71F00?style=flat&logo=sqlalchemy&logoColor=white) |
| **Jinja2** | 3.1+ | Template Engine | ![Jinja](https://img.shields.io/badge/Jinja2-3.1+-B41717?style=flat&logo=jinja&logoColor=white) |
| **Groq SDK** | 0.4+ | LLM API Client | ![Groq](https://img.shields.io/badge/Groq-0.4+-FF6B00?style=flat) |

</div>

### AI & External Services

<div align="center">

| Service | Model/Version | Purpose |
|---------|---------------|---------|
| **Groq API** | llama-3.1-8b-instant | Natural language understanding |
| **PlantUML Server** | Latest | UML diagram rendering |

</div>

---

## ğŸ“¸ Screenshots

<div align="center">

### 1ï¸âƒ£ Natural Language Input & Validation

<img src="./docs/screenshots/step1-input.png" alt="Step 1 - Natural Language Input" width="100%"/>

> Users describe their database in plain English. AI validates the prompt in real-time.

---

### 2ï¸âƒ£ Prompt Validation Results

<img src="./docs/screenshots/step2-validation.png" alt="Step 2 - Validation" width="100%"/>

> Instant feedback showing whether the prompt is sufficient for database generation.

---

### 3ï¸âƒ£ Entity Extraction & Review

<img src="./docs/screenshots/step3-entities.png" alt="Step 3 - Entities" width="100%"/>

> AI-extracted entities with attributes and relationships ready for review.

---

### 4ï¸âƒ£ Interactive Metamodel Editor

<img src="./docs/screenshots/step4-editor.png" alt="Step 4 - Editor" width="100%"/>

> Drag-and-drop visual editor for refining the database schema.

---

### 5ï¸âƒ£ Multi-Dialect SQL Generation

<img src="./docs/screenshots/step5-sql.png" alt="Step 5 - SQL" width="100%"/>

> Generate SQL code for 5 different database platforms with syntax highlighting.

---

### 6ï¸âƒ£ Database Connection & Execution

<img src="./docs/screenshots/database-connection.png" alt="Database Connection" width="100%"/>

> 3-step wizard: Configure â†’ Test â†’ Execute on real databases.

---

### 7ï¸âƒ£ UML Diagram Visualization

<img src="./docs/screenshots/uml-diagrams.png" alt="UML Diagrams" width="100%"/>

> Auto-generated PlantUML and Mermaid diagrams showing entity relationships.

---

### 8ï¸âƒ£ AI-Powered Schema Optimization

<img src="./docs/screenshots/optimization.png" alt="Optimization" width="100%"/>

> Intelligent suggestions for improving schema quality, performance, and security.

---

### 9ï¸âƒ£ Smart Sample Data Generator

<img src="./docs/screenshots/sample-data.png" alt="Sample Data" width="100%"/>

> Generate realistic test data with smart field recognition.

</div>

---

## ğŸš€ Installation & Setup

### Prerequisites

<div align="center">

| Requirement | Version | Download |
|-------------|---------|----------|
| ğŸŸ¢ **Node.js** | 16+ | [nodejs.org](https://nodejs.org/) |
| ğŸ **Python** | 3.9+ | [python.org](https://www.python.org/) |
| ğŸ“¦ **Git** | Latest | [git-scm.com](https://git-scm.com/) |
| ğŸ”‘ **Groq API Key** | Free | [console.groq.com](https://console.groq.com) |

**Optional (for database execution):**
- ğŸ˜ PostgreSQL
- ğŸ¬ MySQL
- ğŸ“¦ SQLite (built-in)

</div>

### Quick Start (5 minutes)

```bash
# 1ï¸âƒ£ Clone the repository
git clone https://github.com/yousef-elgarch1/NL2SQL-Designer-.git
cd NL2SQL-Designer

# 2ï¸âƒ£ Backend Setup
cd backend
python -m venv venv

# Windows:
.\venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

pip install -r requirements.txt

# Create .env file
cp .env.example .env
# Edit .env and add: GROQ_API_KEY=your_key_here

# 3ï¸âƒ£ Frontend Setup (new terminal)
cd frontend
npm install
cp .env.example .env

# 4ï¸âƒ£ Start Backend (Terminal 1)
cd backend
.\venv\Scripts\activate  # Windows
python main.py
# Backend runs on: http://127.0.0.1:8000

# 5ï¸âƒ£ Start Frontend (Terminal 2)
cd frontend
npm run dev
# Frontend runs on: http://localhost:3001

# 6ï¸âƒ£ Open browser
# Navigate to: http://localhost:3001
```

### Get Your Free Groq API Key

1. Visit [console.groq.com](https://console.groq.com)
2. Sign up for a free account
3. Navigate to **API Keys** section
4. Click **"Create API Key"**
5. Copy the key to `backend/.env`:
   ```env
   GROQ_API_KEY=gsk_your_actual_key_here
   ```

---

## ğŸ“– Usage Guide

### Complete Workflow Example

Let's create a **Library Management System**:

<details>
<summary><b>ğŸ“ Step 1: Enter Natural Language Description</b></summary>

```text
Create a library management system with books, authors, borrowers, and loans.

Books have a title, ISBN, publication year, and belong to one author.
Authors have a name, email, and biography.
Borrowers have a name, email, membership date, and phone number.
Loans track which borrower borrowed which book, with borrow date, due date, and return date.
```

Click **"Validate Prompt"** â†’ âœ… Validation successful!

</details>

<details>
<summary><b>ğŸ”„ Step 2: Extract Entities</b></summary>

Click **"Extract Entities"** â†’ AI analyzes your prompt

**Expected Entities:**
- ğŸ“š **Book**: id, title, isbn, publication_year, author_id
- âœï¸ **Author**: id, name, email, biography
- ğŸ‘¤ **Borrower**: id, name, email, membership_date, phone
- ğŸ“‹ **Loan**: id, book_id, borrower_id, borrow_date, due_date, return_date

**Relationships:**
- Book â†’ Author (many-to-one)
- Loan â†’ Book (many-to-one)
- Loan â†’ Borrower (many-to-one)

</details>

<details>
<summary><b>âœï¸ Step 3: Edit Metamodel</b></summary>

Review and customize:
- â• Add/remove attributes
- ğŸ”„ Change data types
- ğŸ”— Modify relationships
- âœ… Set constraints (nullable, unique)

</details>

<details>
<summary><b>ğŸ’¾ Step 4: Generate SQL</b></summary>

1. Select **SQL Dialect**: MySQL
2. Click **"Generate SQL"**
3. Review generated code:

```sql
CREATE TABLE Authors (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE,
    biography TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE Books (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    isbn VARCHAR(13) UNIQUE,
    publication_year INT,
    author_id INT,
    FOREIGN KEY (author_id) REFERENCES Authors(id)
        ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ... more tables
```

</details>

<details>
<summary><b>ğŸš€ Step 5: Execute on Database</b></summary>

1. Click **"Execute on Database"**
2. Enter credentials:
   - **Host**: localhost
   - **Port**: 3306
   - **Username**: root
   - **Password**: your_password
   - **Database**: library_db
3. Click **"Test Connection"** â†’ âœ…
4. Check â˜‘ï¸ "Create database if doesn't exist"
5. Click **"Execute"** â†’ âœ… Database created!

</details>

<details>
<summary><b>âœ… Step 6: Verify in MySQL</b></summary>

```sql
SHOW DATABASES;
USE library_db;
SHOW TABLES;
DESCRIBE Books;
SELECT * FROM Books;
```

</details>

---

## ğŸ“ Project Structure

<details>
<summary>Click to expand full structure</summary>

```
NL2SQL_Designer/
â”œâ”€â”€ ğŸ“‚ backend/                          # FastAPI Backend
â”‚   â”œâ”€â”€ ğŸ“‚ models/                       # Metamodel Definitions
â”‚   â”‚   â”œâ”€â”€ metamodel.py                 # â­ Core: Entity, Attribute, Relationship
â”‚   â”‚   â””â”€â”€ schemas.py                   # API request/response models
â”‚   â”œâ”€â”€ ğŸ“‚ services/                     # Business Logic
â”‚   â”‚   â”œâ”€â”€ entity_extractor.py          # â­ T2M: NL â†’ Metamodel
â”‚   â”‚   â”œâ”€â”€ sql_generator.py             # â­ M2T: Metamodel â†’ SQL
â”‚   â”‚   â”œâ”€â”€ plantuml_generator.py        # â­ M2T: Metamodel â†’ UML
â”‚   â”‚   â”œâ”€â”€ mermaid_service.py           # Mermaid diagram generation
â”‚   â”‚   â”œâ”€â”€ database_executor.py         # Database execution
â”‚   â”‚   â”œâ”€â”€ optimization_service.py      # Schema analysis
â”‚   â”‚   â”œâ”€â”€ sample_data_service.py       # Test data generation
â”‚   â”‚   â””â”€â”€ fast_llm_service.py          # Groq LLM integration
â”‚   â”œâ”€â”€ ğŸ“‚ routers/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ prompt_router.py             # /prompt/* endpoints
â”‚   â”‚   â”œâ”€â”€ sql_router.py                # /sql/* endpoints
â”‚   â”‚   â”œâ”€â”€ diagram_router.py            # /diagram/* endpoints
â”‚   â”‚   â””â”€â”€ database_router.py           # /database/* endpoints
â”‚   â”œâ”€â”€ ğŸ“‚ templates/                    # â­ Jinja2 SQL Templates (M2T)
â”‚   â”‚   â”œâ”€â”€ postgresql.sql.j2
â”‚   â”‚   â”œâ”€â”€ mysql.sql.j2
â”‚   â”‚   â”œâ”€â”€ sqlite.sql.j2
â”‚   â”‚   â”œâ”€â”€ sqlserver.sql.j2
â”‚   â”‚   â””â”€â”€ oracle.sql.j2
â”‚   â”œâ”€â”€ ğŸ“‚ prompts/                      # LLM System Prompts
â”‚   â”‚   â”œâ”€â”€ validation_prompt.txt
â”‚   â”‚   â””â”€â”€ extraction_prompt.txt
â”‚   â”œâ”€â”€ main.py                          # FastAPI entry point
â”‚   â”œâ”€â”€ requirements.txt                 # Python dependencies
â”‚   â””â”€â”€ .env.example                     # Environment template
â”‚
â”œâ”€â”€ ğŸ“‚ frontend/                         # React Frontend
â”‚   â”œâ”€â”€ ğŸ“‚ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ components/               # React Components
â”‚   â”‚   â”‚   â”œâ”€â”€ PromptInput.tsx          # Step 1: NL input
â”‚   â”‚   â”‚   â”œâ”€â”€ ValidationPanel.tsx      # Step 2: Validation
â”‚   â”‚   â”‚   â”œâ”€â”€ AttributeEditor.tsx      # Step 4: Editor
â”‚   â”‚   â”‚   â”œâ”€â”€ SQLViewer.tsx            # Step 5: SQL display
â”‚   â”‚   â”‚   â”œâ”€â”€ DiagramViewer.tsx        # UML viewer
â”‚   â”‚   â”‚   â”œâ”€â”€ DatabaseConnectionForm.tsx  # DB execution
â”‚   â”‚   â”‚   â”œâ”€â”€ OptimizationSuggestions.tsx # Analysis
â”‚   â”‚   â”‚   â””â”€â”€ SampleDataGenerator.tsx  # Data generation
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ services/                 # API Clients
â”‚   â”‚   â”‚   â”œâ”€â”€ promptService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ sqlService.ts
â”‚   â”‚   â”‚   â””â”€â”€ databaseService.ts
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ types/                    # TypeScript Types
â”‚   â”‚   â”‚   â”œâ”€â”€ metamodel.ts
â”‚   â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ App.tsx                      # Main app
â”‚   â”‚   â”œâ”€â”€ theme.ts                     # MUI theme
â”‚   â”‚   â””â”€â”€ main.tsx                     # Entry point
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                             # Documentation
â”‚   â”œâ”€â”€ ğŸ“‚ screenshots/                  # Application screenshots
â”‚   â”œâ”€â”€ SCREENSHOT_GUIDE.md
â”‚   â”œâ”€â”€ PRESENTATION_NOTES.md
â”‚   â””â”€â”€ NEXT_STEPS.md
â”‚
â”œâ”€â”€ README.md                            # â­ This file
â”œâ”€â”€ QUICK_START.md                       # Quick reference
â””â”€â”€ .gitignore
```

</details>

---

## ğŸ“¡ API Documentation

### Base URL
```
http://127.0.0.1:8000
```

### Interactive API Docs
When backend is running, visit:
- **Swagger UI**: http://127.0.0.1:8000/docs
- **ReDoc**: http://127.0.0.1:8000/redoc

### Key Endpoints

<details>
<summary><b>ğŸ—£ï¸ POST /prompt/validate</b> - Validate natural language prompt</summary>

**Request:**
```json
{
  "prompt": "Create a library with books and authors"
}
```

**Response:**
```json
{
  "is_valid": true,
  "message": "Prompt is valid and contains sufficient information.",
  "suggestions": []
}
```

</details>

<details>
<summary><b>ğŸ“Š POST /prompt/extract</b> - Extract entities from prompt</summary>

**Request:**
```json
{
  "prompt": "Create a library with books and authors"
}
```

**Response:**
```json
{
  "entities": [
    {
      "name": "Book",
      "attributes": [
        {"name": "id", "data_type": "INTEGER", "is_primary_key": true},
        {"name": "title", "data_type": "VARCHAR", "length": 255}
      ]
    }
  ],
  "relationships": [
    {
      "name": "book_author",
      "source_entity": "Book",
      "target_entity": "Author",
      "cardinality": "many_to_one"
    }
  ]
}
```

</details>

<details>
<summary><b>ğŸ’¾ POST /sql/generate</b> - Generate SQL from metamodel</summary>

**Request:**
```json
{
  "metamodel": { "entities": [...], "relationships": [...] },
  "dialect": "mysql"
}
```

**Response:**
```json
{
  "sql_code": "CREATE TABLE Books (...);",
  "dialect": "mysql"
}
```

</details>

<details>
<summary><b>ğŸš€ POST /database/execute</b> - Execute SQL on real database</summary>

**Request:**
```json
{
  "config": {
    "dbms": "mysql",
    "host": "localhost",
    "port": 3306,
    "username": "root",
    "password": "password",
    "database": "library_db"
  },
  "sql_script": "CREATE TABLE Books (...);",
  "create_database": true
}
```

**Response:**
```json
{
  "success": true,
  "message": "Schema created successfully! 4 tables created.",
  "tables_created": ["Books", "Authors", "Borrowers", "Loans"]
}
```

</details>

---

## ğŸ”® Future Enhancements

### ğŸ¯ Short-term (Next Release)

- [ ] **Reverse Engineering**: Import existing database schemas
- [ ] **Schema Comparison**: Diff tool for schema versions
- [ ] **Migration Scripts**: Generate ALTER TABLE statements
- [ ] **NoSQL Support**: MongoDB, Cassandra schema generation
- [ ] **GraphQL Schema**: Generate GraphQL types from metamodel
- [ ] **API Generation**: Auto-generate REST API endpoints

### ğŸš€ Medium-term

- [ ] **Collaborative Editing**: Real-time multi-user schema design
- [ ] **Version Control**: Git-like versioning for schemas
- [ ] **Template Library**: Pre-built schemas (e-commerce, blog, etc.)
- [ ] **Advanced Constraints**: CHECK, triggers, stored procedures
- [ ] **Performance Testing**: Benchmark generated schemas
- [ ] **Cloud Deployment**: One-click to AWS RDS, Azure SQL

### ğŸŒŸ Long-term

- [ ] **AI Schema Advisor**: Suggest optimal schema based on use case
- [ ] **Auto-Scaling Recommendations**: Sharding, partitioning strategies
- [ ] **Security Auditing**: Automated vulnerability detection
- [ ] **Data Lineage Tracking**: Track data flow across entities
- [ ] **ML Integration**: Predict schema evolution needs
- [ ] **Natural Language Queries**: NL â†’ SQL queries (not just schemas)

---

## ğŸ¤ Contributing

We welcome contributions! Here's how you can help:

### ğŸ› Reporting Bugs

1. Check [existing issues](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues)
2. Create new issue with:
   - Clear title
   - Steps to reproduce
   - Expected vs actual behavior
   - Screenshots
   - Environment details

### ğŸ’¡ Suggesting Features

1. Open a [Feature Request](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues/new)
2. Describe the feature and use case
3. Explain why it fits MDE philosophy

### ğŸ”§ Code Contributions

```bash
# 1. Fork the repository
# 2. Create feature branch
git checkout -b feature/amazing-feature

# 3. Make changes and commit
git commit -m "Add amazing feature"

# 4. Push to your fork
git push origin feature/amazing-feature

# 5. Open Pull Request
```

### ğŸ“ Code Style

**Backend (Python):**
- Follow PEP 8
- Use type hints
- Write docstrings

**Frontend (TypeScript):**
- Use ESLint + Prettier
- Follow React best practices
- Write JSDoc comments

---

## ğŸ“„ License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

<div align="center">

### Special Thanks To:

**ğŸ“ Our Professor** - For teaching Model-Driven Engineering principles
**âš¡ Groq** - For providing lightning-fast LLM inference
**ğŸ¦™ Meta** - For open-sourcing Llama 3.1
**ğŸ“Š PlantUML** - For UML diagram rendering
**ğŸ¨ Material-UI** - For beautiful React components
**ğŸš€ FastAPI** - For the excellent Python web framework
**ğŸŒ Open Source Community** - For amazing tools and libraries

</div>

---

## ğŸ“ Contact & Support

<div align="center">

### Get in Touch

**ğŸ“§ Project Lead:** Youssef ELGARCH
**ğŸ™ GitHub:** [@yousef-elgarch1](https://github.com/yousef-elgarch1)
**ğŸŒ Repository:** [NL2SQL-Designer](https://github.com/yousef-elgarch1/NL2SQL-Designer-)
**ğŸ› Report Issues:** [GitHub Issues](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues)

---

### Documentation & Resources

ğŸ“– **API Documentation:** http://127.0.0.1:8000/docs (when running)
ğŸ¥ **Video Tutorial:** Coming Soon
ğŸ“š **Full Docs:** Coming Soon

---

### Project Statistics

![Lines of Code](https://img.shields.io/badge/Lines_of_Code-17000+-blue?style=for-the-badge)
![Files](https://img.shields.io/badge/Files-80+-green?style=for-the-badge)
![Components](https://img.shields.io/badge/Components-14-purple?style=for-the-badge)
![API Endpoints](https://img.shields.io/badge/API_Endpoints-11-orange?style=for-the-badge)

---

<img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&size=32&duration=2800&pause=2000&color=3B82F6&center=true&vCenter=true&width=940&lines=Made+with+%E2%9D%A4%EF%B8%8F+by+Team+NL2SQL;Model-Driven+Engineering+Course+2024-2025;Transform+Ideas+into+Databases+with+AI!" alt="Typing SVG" />

**[â¬† Back to Top](#-nl2sql-designer)**

</div>

---

<div align="center">

**ğŸ¤– Powered by Groq âš¡ Llama 3.1 ğŸ¦™ Built with FastAPI ğŸš€ Designed with Material-UI ğŸ¨**

</div>
