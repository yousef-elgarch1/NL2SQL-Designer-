<div align="center">

# 🚀 NL2SQL Designer

### *Transform Natural Language into Production-Ready Database Schemas*

**A Model-Driven Engineering Approach Powered by AI**

<img src="https://cdn.pixabay.com/photo/2024/01/29/22/47/ai-generated-8540917_640.jpg" alt="NL2SQL Designer Banner" width="100%"/>

---

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.9+-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
[![React](https://img.shields.io/badge/React-18.0+-61DAFB?style=for-the-badge&logo=react&logoColor=black)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-009688?style=for-the-badge&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![Material UI](https://img.shields.io/badge/Material--UI-5.14+-007FFF?style=for-the-badge&logo=mui&logoColor=white)](https://mui.com/)

[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Supported-4169E1?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![MySQL](https://img.shields.io/badge/MySQL-Supported-4479A1?style=for-the-badge&logo=mysql&logoColor=white)](https://www.mysql.com/)
[![SQLite](https://img.shields.io/badge/SQLite-Supported-003B57?style=for-the-badge&logo=sqlite&logoColor=white)](https://www.sqlite.org/)
[![SQL Server](https://img.shields.io/badge/SQL_Server-Supported-CC2927?style=for-the-badge&logo=microsoftsqlserver&logoColor=white)](https://www.microsoft.com/sql-server)
[![Oracle](https://img.shields.io/badge/Oracle-Supported-F80000?style=for-the-badge&logo=oracle&logoColor=white)](https://www.oracle.com/database/)

[![Groq](https://img.shields.io/badge/Powered_by-Groq-FF6B00?style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA0gAAANIBKMbP5AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACqSURBVCiRpdExDoJAEIbh79FoRQsLOIMXsKHxFrYcwlPYeAhOYGNDQkNBTEhggYX7t1hgFxL/ZjLfm8kkA/wZBmANVMAWyIECOAFn4AG0wAP4KbQB9kAJHIEF0ALvLrQGakJjYAZcgRfQfIPWwBp4AjugBG5AS2gKlMAbWAEPYNOFpoTGQA6cgTuwBRpCI+AAPIDLt9ABaIBzF7oC98+DGfAC6i70Aj7A618+aF8qvWr9sV8AAAAASUVORK5CYII=&logoColor=white)](https://groq.com/)
[![Llama 3.1](https://img.shields.io/badge/Llama_3.1-8B_Instant-8B5CF6?style=for-the-badge&logo=meta&logoColor=white)](https://www.llama.com/)

[![GitHub Stars](https://img.shields.io/github/stars/yousef-elgarch1/NL2SQL-Designer-?style=for-the-badge&logo=github)](https://github.com/yousef-elgarch1/NL2SQL-Designer-)
[![GitHub Forks](https://img.shields.io/github/forks/yousef-elgarch1/NL2SQL-Designer-?style=for-the-badge&logo=github)](https://github.com/yousef-elgarch1/NL2SQL-Designer-)
[![GitHub Issues](https://img.shields.io/github/issues/yousef-elgarch1/NL2SQL-Designer-?style=for-the-badge&logo=github)](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues)

[📖 Documentation](#-table-of-contents) • [🚀 Quick Start](#-installation--setup) • [🎯 Demo](#-screenshots) • [🤝 Contribute](#-contributing) • [📝 License](#-license)

</div>

---

## 👥 Team Members

<div align="center">

| Role | Name | GitHub |
|------|------|--------|
| 🎯 **Team Lead & Backend Architect** | Youssef ELGARCH | [@yousef-elgarch1](https://github.com/yousef-elgarch1) |
| 🎨 **Frontend Developer** | ELGHEFYRY Salma | - |
| 💾 **Database Specialist** | NIJADI Jihane | - |
| 🏗️ **MDE & Metamodel Designer** | Doha NEGRAOUI | - |
| 🤖 **AI Integration & Testing** | Nisrine IBNOU-KADY | - |

**🎓 Institution:** École Nationale des Sciences Appliquées (ENSA)
**📅 Academic Year:** 2024-2025
**📚 Course:** Model-Driven Engineering (Ingénierie Dirigée par les Modèles)

</div>

---

## 📋 Table of Contents

<details>
<summary>Click to expand</summary>

1. [🎯 Project Overview](#-project-overview)
2. [🤖 AI Technology Stack](#-ai-technology-stack---why-groq--llama-31)
3. [💡 Innovation & MDE Principles](#-innovation--mde-principles)
4. [🏗️ Architecture & Design](#-architecture--design)
5. [🔄 MDE Transformation Pipeline](#-mde-transformation-pipeline)
6. [📊 UML Diagrams](#-uml-diagrams)
7. [✨ Features](#-features)
8. [🛠️ Technology Stack](#-technology-stack)
9. [📸 Screenshots](#-screenshots)
10. [🚀 Installation & Setup](#-installation--setup)
11. [📖 Usage Guide](#-usage-guide)
12. [📁 Project Structure](#-project-structure)
13. [📡 API Documentation](#-api-documentation)
14. [🔮 Future Enhancements](#-future-enhancements)
15. [🤝 Contributing](#-contributing)
16. [📄 License](#-license)

</details>

---

## 🎯 Project Overview

<div align="center">

**NL2SQL Designer** is an intelligent platform that transforms natural language descriptions into complete, executable database schemas.

By leveraging **Model-Driven Engineering (MDE)** principles and **Large Language Models (LLMs)**, the platform automates the entire database design process—from conceptual modeling to physical implementation.

</div>

### ❌ The Problem We Solve

<table>
<tr>
<td width="50%">

#### Traditional Database Design

- ⏱️ **Time-consuming**
  Manual schema creation takes hours or days

- 🐛 **Error-prone**
  Human mistakes in relationships, constraints

- 🔄 **Repetitive**
  Similar patterns implemented over and over

- 📊 **Platform-dependent**
  Different SQL dialects require separate work

</td>
<td width="50%">

#### ✅ Our Solution

- ⚡ **Fast**
  Generate complete schemas in seconds

- 🎯 **Accurate**
  AI-powered extraction with validation

- 🔁 **Reusable**
  One model → Multiple database platforms

- 🌐 **Universal**
  5 SQL dialects + 2 UML formats from one source

</td>
</tr>
</table>

---

## 🤖 AI Technology Stack - Why Groq & Llama 3.1?

<div align="center">

### Powered by Industry-Leading AI

<table>
<tr>
<td align="center" width="50%">

<img src="https://th.bing.com/th/id/OIP.6JJwqsDkeuOOOTsFqM64fwHaEc?w=281&h=180&c=7&r=0&o=7&dpr=1.1&pid=1.7&rm=3" alt="Groq Logo" width="200"/>

### **Groq**
**The World's Fastest LLM Inference**

</td>
<td align="center" width="50%">

<img src="https://tse2.mm.bing.net/th/id/OIP.woTiv9SeRjAkusT2R57btAHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Llama Logo" width="200"/>

### **Meta Llama 3.1**
**State-of-the-Art Open Source LLM**

</td>
</tr>
</table>

</div>

### Why We Chose This Combination

<table>
<tr>
<th width="50%">🚀 Groq LPU™ Inference Engine</th>
<th width="50%">🦙 Llama 3.1 (8B Instant)</th>
</tr>
<tr>
<td>

#### Speed
- ⚡ **500+ tokens/second**
- 🔥 **10x faster** than traditional GPUs
- ⏱️ **<100ms latency** for real-time responses

#### Reliability
- 🎯 **99.9% uptime**
- 🔄 **Automatic scaling**
- 💰 **Free tier** for development

#### Architecture
- 🏗️ **LPU (Language Processing Unit)**
- 🧠 **Hardware-optimized** for transformers
- 📊 **Deterministic performance**

</td>
<td>

#### Intelligence
- 🎓 **405B parameter knowledge** (distilled)
- 🧠 **Superior reasoning** capabilities
- 🌍 **Multilingual** support

#### Accuracy
- ✅ **High precision** entity extraction
- 🔗 **Advanced relationship** inference
- 📝 **Context understanding** (128K tokens)

#### Open Source
- 🆓 **Free to use** commercially
- 🔓 **Transparent** model weights
- 🛠️ **Fine-tunable** for domain tasks

</td>
</tr>
</table>

### Performance Comparison

```mermaid

graph LR
    subgraph "Traditional GPU Inference"
        A1[Request] -->|500ms| B1[OpenAI GPT-4]
        B1 -->|50 tokens/sec| C1[Response]
    end

    subgraph "Groq LPU Inference ⚡"
        A2[Request] -->|<100ms| B2[Llama 3.1 on Groq]
        B2 -->|500+ tokens/sec| C2[Response]
    end

    style A2 fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style B2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style C2 fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
```

### Why Not Other LLMs?

| Model | Speed | Cost | Accuracy | Why Not? |
|-------|-------|------|----------|----------|
| **GPT-4** | ⭐⭐ | 💰💰💰 | ⭐⭐⭐⭐⭐ | Too expensive, slower |
| **Claude 3** | ⭐⭐⭐ | 💰💰 | ⭐⭐⭐⭐⭐ | API limits, cost |
| **Gemini Pro** | ⭐⭐⭐ | 💰 | ⭐⭐⭐⭐ | Rate limits |
| **Groq + Llama 3.1** | ⭐⭐⭐⭐⭐ | 💰 (Free) | ⭐⭐⭐⭐ | ✅ **Perfect balance!** |

---

## 💡 Innovation & MDE Principles

### 🌟 Why This Project is Innovative

<div align="center">

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px','fontFamily':'Arial'}}}%%
mindmap
  root((NL2SQL<br/>Innovation))
    AI-Powered MDE
      LLM Model Extraction
      Zero Manual Modeling
      Natural Language DSL
    End-to-End Automation
      Schema Generation
      Database Execution
      Quality Analysis
      Test Data Creation
    Multi-Platform
      5 SQL Dialects
      2 UML Formats
      Single Source Model
    Accessibility
      No Technical Expertise
      Plain English Input
      Visual Editing
```

</div>

#### 1️⃣ **Natural Language as DSL (Domain-Specific Language)**

<table>
<tr>
<th>❌ Traditional MDE Approach</th>
<th>✅ Our Innovative Approach</th>
</tr>
<tr>
<td>

```
1. Learn UML notation
2. Use complex graphical tools
3. Manually define relationships
4. Expert knowledge required
```

</td>
<td>

```
1. Write in plain English
2. Type natural sentences
3. AI extracts relationships
4. Anyone can use it
```

</td>
</tr>
</table>

#### 2️⃣ **LLM-Powered Model Extraction (Text-to-Model)**

We combine **Model-Driven Engineering** with **Artificial Intelligence**:

- 🔴 **Traditional MDE:** Manual model creation using graphical editors
- 🟢 **Our Innovation:** Automatic model extraction using Groq LLM (Llama 3.1-8B-Instant)

#### 3️⃣ **Multi-Target Code Generation**

From **ONE abstract metamodel**, we generate:

<div align="center">

| Target | Format | Purpose |
|--------|--------|---------|
| 🐘 **PostgreSQL** | SQL | Production databases |
| 🐬 **MySQL** | SQL | Web applications |
| 📦 **SQLite** | SQL | Mobile/embedded |
| 🏢 **SQL Server** | SQL | Enterprise systems |
| 🔴 **Oracle** | SQL | Large corporations |
| 📊 **PlantUML** | Diagram | Documentation |
| 🎨 **Mermaid** | Diagram | GitHub/Web |

</div>

This demonstrates the **core value proposition of MDE**: *Write Once, Generate Everywhere*.

#### 4️⃣ **End-to-End Automation**

Most MDE tools stop at code generation. **We go further:**

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#10b981','primaryTextColor':'#fff','primaryBorderColor':'#059669','lineColor':'#3b82f6','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'16px'}}}%%
graph LR
    A[Natural Language] -->|T2M| B[Metamodel]
    B -->|M2T| C[SQL Code]
    C -->|Execute| D[Real Database]
    D -->|Analyze| E[Quality Report]
    E -->|Generate| F[Sample Data]

    style A fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
    style B fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style C fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style D fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
    style E fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
    style F fill:#06b6d4,stroke:#0891b2,stroke-width:3px,color:#fff
```

### 🎓 MDE Principles Implemented

<div align="center">

| MDE Concept | Implementation | File/Component |
|-------------|----------------|----------------|
| **🏗️ Metamodel** | Database schema metamodel (Entity, Attribute, Relationship) | [`metamodel.py`](backend/models/metamodel.py) |
| **📋 Model** | Specific database schemas created from natural language | User-generated via prompts |
| **🗣️ DSL** | Natural language for database description | User input (Step 1) |
| **📝 Text-to-Model (T2M)** | Natural language → Metamodel extraction | [`entity_extractor.py`](backend/services/entity_extractor.py) |
| **🔄 Model-to-Text (M2T)** | Metamodel → SQL code generation | [`sql_generator.py`](backend/services/sql_generator.py) |
| **📊 Model-to-Text (M2T)** | Metamodel → UML diagrams | [`plantuml_generator.py`](backend/services/plantuml_generator.py) |
| **✅ Model Validation** | Constraint checking (PKs, FKs, integrity) | `metamodel.validate()` |
| **🌐 Multi-Platform** | 5 SQL dialects from one model | Templates in [`templates/`](backend/templates/) |
| **🔤 Abstract Syntax** | Metamodel classes | Entity, Attribute, Relationship |
| **🎨 Concrete Syntax** | Visual diagrams + SQL code | PlantUML/Mermaid renderings |

</div>

---

## 🏗️ Architecture & Design

### High-Level System Architecture

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px','clusterBkg':'#374151','clusterBorder':'#6b7280','edgeLabelBackground':'#1f2937'}}}%%
graph TB
    subgraph "🎨 Frontend Layer - React + TypeScript"
        UI[User Interface<br/>Material-UI Components<br/>🎭]
        STATE[State Management<br/>React Hooks<br/>🔄]
        API_CLIENT[API Client<br/>Axios HTTP<br/>📡]
    end

    subgraph "⚙️ Backend Layer - FastAPI + Python"
        API[REST API<br/>FastAPI Routes<br/>🚀]
        LLM[LLM Service<br/>Groq API<br/>🤖]
        EXTRACTOR[Entity Extractor<br/>T2M Transformation<br/>📝]
        VALIDATOR[Model Validator<br/>Constraint Checking<br/>✅]
        GENERATOR[Code Generators<br/>M2T Transformation<br/>🔄]
        DB_EXEC[Database Executor<br/>SQLAlchemy<br/>💾]
    end

    subgraph "🌐 External Services"
        GROQ[Groq LLM API<br/>llama-3.1-8b-instant<br/>⚡]
        PLANTUML[PlantUML Server<br/>Diagram Rendering<br/>📊]
    end

    subgraph "📤 Output Artifacts"
        SQL[(SQL Scripts<br/>5 Dialects<br/>📜)]
        UML[UML Diagrams<br/>PlantUML/Mermaid<br/>🎨]
        REAL_DB[(Real Databases<br/>PostgreSQL/MySQL/etc<br/>🗄️)]
    end

    UI --> STATE
    STATE --> API_CLIENT
    API_CLIENT --> API
    API --> LLM
    LLM --> GROQ
    API --> EXTRACTOR
    EXTRACTOR --> VALIDATOR
    VALIDATOR --> GENERATOR
    GENERATOR --> SQL
    GENERATOR --> UML
    UML --> PLANTUML
    GENERATOR --> DB_EXEC
    DB_EXEC --> REAL_DB

    style UI fill:#61dafb,stroke:#0088cc,stroke-width:3px,color:#000
    style API fill:#009688,stroke:#00796b,stroke-width:3px,color:#fff
    style LLM fill:#ff6b6b,stroke:#ee5a52,stroke-width:3px,color:#fff
    style GENERATOR fill:#4ecdc4,stroke:#45b7af,stroke-width:3px,color:#fff
    style SQL fill:#95e1d3,stroke:#7dd3c0,stroke-width:3px,color:#000
    style UML fill:#f38181,stroke:#f07167,stroke-width:3px,color:#fff
    style REAL_DB fill:#aa96da,stroke:#9f86c6,stroke-width:3px,color:#fff
    style GROQ fill:#ff9f1c,stroke:#ffbf69,stroke-width:3px,color:#000
```

---

## 🔄 MDE Transformation Pipeline

This is the **heart** of our Model-Driven Engineering implementation:

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'13px','clusterBkg':'#374151','clusterBorder':'#6b7280'}}}%%
graph LR
    subgraph "📝 Input Layer - DSL"
        NL["🗣️ Natural Language DSL<br/>────────────────<br/>Create a library with<br/>books, authors, borrowers"]
    end

    subgraph "🔄 Text-to-Model Transformation"
        PARSE["🧠 LLM Parser<br/>────────────────<br/>Groq API<br/>Llama 3.1-8B"]
        EXTRACT["📊 Entity Extraction<br/>────────────────<br/>Entities: Book, Author<br/>Attributes: id, title<br/>Relationships: Book→Author"]
    end

    subgraph "🏗️ Metamodel Layer - PIM"
        META["📐 Abstract Metamodel<br/>────────────────<br/>Entity: name, attributes<br/>Attribute: type, constraints<br/>Relationship: cardinality"]
    end

    subgraph "✅ Validation Layer"
        VALIDATE["🔍 Model Validator<br/>────────────────<br/>✓ Primary keys exist<br/>✓ Foreign keys valid<br/>✓ Referential integrity"]
    end

    subgraph "🎨 Model-to-Text Transformation"
        GEN_SQL["💾 SQL Generator<br/>────────────────<br/>Jinja2 Templates<br/>Multi-dialect"]
        GEN_UML["📊 UML Generator<br/>────────────────<br/>PlantUML<br/>Mermaid"]
        GEN_DATA["🎲 Data Generator<br/>────────────────<br/>Smart recognition<br/>Realistic data"]
    end

    subgraph "📤 Output Layer - PSM"
        POSTGRESQL[("🐘 PostgreSQL SQL")]
        MYSQL[("🐬 MySQL SQL")]
        SQLITE[("📦 SQLite SQL")]
        SQLSERVER[("🏢 SQL Server")]
        ORACLE[("🔴 Oracle SQL")]
        PLANTUML["📈 PlantUML"]
        MERMAID["🎨 Mermaid"]
        SAMPLES["📋 Sample Data"]
    end

    NL --> PARSE
    PARSE --> EXTRACT
    EXTRACT --> META
    META --> VALIDATE
    VALIDATE --> GEN_SQL
    VALIDATE --> GEN_UML
    VALIDATE --> GEN_DATA

    GEN_SQL --> POSTGRESQL
    GEN_SQL --> MYSQL
    GEN_SQL --> SQLITE
    GEN_SQL --> SQLSERVER
    GEN_SQL --> ORACLE

    GEN_UML --> PLANTUML
    GEN_UML --> MERMAID

    GEN_DATA --> SAMPLES

    style NL fill:#fef3c7,stroke:#f59e0b,stroke-width:3px,color:#000
    style PARSE fill:#fecaca,stroke:#ef4444,stroke-width:3px,color:#000
    style META fill:#bfdbfe,stroke:#3b82f6,stroke-width:3px,color:#000
    style VALIDATE fill:#bbf7d0,stroke:#10b981,stroke-width:3px,color:#000
    style GEN_SQL fill:#bae6fd,stroke:#0ea5e9,stroke-width:3px,color:#000
    style POSTGRESQL fill:#336791,stroke:#2d5a7b,stroke-width:2px,color:#fff
    style MYSQL fill:#00758f,stroke:#00546b,stroke-width:2px,color:#fff
    style SQLITE fill:#003b57,stroke:#002b3d,stroke-width:2px,color:#fff
    style PLANTUML fill:#fbbd08,stroke:#f8b000,stroke-width:2px,color:#000
```

### MDE Abstraction Levels

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px'}}}%%
graph TD
    subgraph "🔷 M3 - Meta-Metamodel Level"
        M3["MOF / Ecore-like Structure<br/>────────────────<br/>Pydantic BaseModel<br/>Python Type System"]
    end

    subgraph "🔶 M2 - Metamodel Level"
        M2["Database Schema Metamodel<br/>────────────────<br/>Entity, Attribute, Relationship<br/>DataType, CardinalityType"]
    end

    subgraph "🔵 M1 - Model Level"
        M1["Concrete Database Models<br/>────────────────<br/>Library: Book, Author, Borrower<br/>E-commerce: Product, Order"]
    end

    subgraph "🟢 M0 - Instance Level"
        M0["Actual Database Data<br/>────────────────<br/>Book#1: The Great Gatsby<br/>Author#1: F. Scott Fitzgerald"]
    end

    M3 -.defines.-> M2
    M2 -.defines.-> M1
    M1 -.defines.-> M0

    style M3 fill:#dbeafe,stroke:#3b82f6,stroke-width:3px,color:#000
    style M2 fill:#bfdbfe,stroke:#2563eb,stroke-width:3px,color:#000
    style M1 fill:#93c5fd,stroke:#1d4ed8,stroke-width:3px,color:#000
    style M0 fill:#60a5fa,stroke:#1e40af,stroke-width:3px,color:#fff
```

---

## 📊 UML Diagrams

### 🎯 Use Case Diagram

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','actorBkg':'#10b981','actorBorder':'#059669','actorTextColor':'#fff','labelBoxBkgColor':'#374151','labelBoxBorderColor':'#6b7280','labelTextColor':'#f3f4f6','loopTextColor':'#f3f4f6','fontSize':'14px'}}}%%
graph TB
    subgraph System["🎯 NL2SQL Designer Platform"]
        UC1[Enter Natural Language<br/>Description]
        UC2[Validate Prompt]
        UC3[Extract Entities &<br/>Relationships]
        UC4[Edit Metamodel]
        UC5[Generate SQL Code]
        UC6[Generate UML Diagrams]
        UC7[Execute on Database]
        UC8[Analyze Schema Quality]
        UC9[Generate Sample Data]
    end

    User[("👤 Database<br/>Designer")]
    Teacher[("👨‍🏫 Teacher/<br/>Reviewer")]
    DBA[("👨‍💼 Database<br/>Administrator")]

    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9

    Teacher --> UC6
    Teacher --> UC8

    DBA --> UC7
    DBA --> UC5

    UC2 -.includes.-> UC1
    UC3 -.includes.-> UC2
    UC5 -.includes.-> UC4
    UC6 -.includes.-> UC4
    UC7 -.includes.-> UC5

    style User fill:#10b981,stroke:#059669,stroke-width:3px
    style Teacher fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px
    style DBA fill:#f59e0b,stroke:#d97706,stroke-width:3px
```

### 🏛️ Class Diagram - Core Metamodel

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'13px','classBkg':'#374151','classBorder':'#6b7280'}}}%%
classDiagram
    class Metamodel {
        +List~Entity~ entities
        +List~Relationship~ relationships
        +Dict metadata
        +get_entity(name: str) Entity
        +validate() Dict
    }

    class Entity {
        +str name
        +List~Attribute~ attributes
        +str description
        +Dict position
        +get_primary_key() Attribute
    }

    class Attribute {
        +str name
        +DataType data_type
        +int length
        +bool is_primary_key
        +bool is_foreign_key
        +bool is_unique
        +bool is_nullable
        +Any default_value
        +str description
    }

    class Relationship {
        +str name
        +str source_entity
        +str target_entity
        +CardinalityType cardinality
        +str source_foreign_key
        +str target_foreign_key
        +str description
    }

    class DataType {
        <<enumeration>>
        INTEGER
        VARCHAR
        TEXT
        DATE
        BOOLEAN
        DECIMAL
        JSON
    }

    class CardinalityType {
        <<enumeration>>
        ONE_TO_ONE
        ONE_TO_MANY
        MANY_TO_ONE
        MANY_TO_MANY
    }

    Metamodel "1" *-- "0..*" Entity : contains
    Metamodel "1" *-- "0..*" Relationship : contains
    Entity "1" *-- "1..*" Attribute : has
    Attribute --> DataType : uses
    Relationship --> CardinalityType : defines
    Relationship --> Entity : connects

    style Metamodel fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
    style Entity fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style Attribute fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style Relationship fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
    style DataType fill:#ef4444,stroke:#dc2626,stroke-width:2px,color:#fff
    style CardinalityType fill:#06b6d4,stroke:#0891b2,stroke-width:2px,color:#fff
```

### 🔄 Sequence Diagram - SQL Generation Flow

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','actorBkg':'#10b981','actorBorder':'#059669','actorLineColor':'#6b7280','signalColor':'#f3f4f6','signalTextColor':'#f3f4f6','labelBoxBkgColor':'#374151','labelBoxBorderColor':'#6b7280','labelTextColor':'#f3f4f6','loopTextColor':'#f3f4f6','noteBkgColor':'#fef3c7','noteBorderColor':'#f59e0b','noteTextColor':'#000','fontSize':'13px'}}}%%
sequenceDiagram
    actor User as 👤 User
    participant UI as 🎨 React UI
    participant API as 🚀 FastAPI
    participant LLM as 🤖 Groq LLM
    participant Validator as ✅ Validator
    participant Generator as 🔄 SQL Generator
    participant DB as 💾 Database

    User->>UI: Enter natural language
    UI->>API: POST /prompt/validate
    API->>LLM: Validate prompt
    LLM-->>API: Validation result
    API-->>UI: {is_valid: true}
    UI-->>User: ✓ Valid prompt

    User->>UI: Click "Extract Entities"
    UI->>API: POST /prompt/extract
    API->>LLM: Extract entities
    LLM-->>API: {entities, relationships}
    API-->>UI: Metamodel JSON
    UI-->>User: Display entities

    User->>UI: Edit & confirm model
    User->>UI: Click "Generate SQL"
    UI->>API: POST /sql/generate
    API->>Validator: Validate metamodel
    Validator-->>API: {is_valid: true}
    API->>Generator: Generate SQL
    Generator-->>API: SQL code
    API-->>UI: {sql_code, dialect}
    UI-->>User: Display SQL

    User->>UI: Click "Execute"
    UI->>API: POST /database/execute
    API->>DB: Create schema
    DB-->>API: Success
    API-->>UI: {success: true}
    UI-->>User: ✓ Database created!
```

### ⚙️ Activity Diagram - Complete Workflow

```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6','primaryTextColor':'#fff','primaryBorderColor':'#2563eb','lineColor':'#10b981','secondaryColor':'#8b5cf6','tertiaryColor':'#f59e0b','background':'#1f2937','mainBkg':'#374151','secondBkg':'#4b5563','textColor':'#f3f4f6','fontSize':'14px','edgeLabelBackground':'#1f2937'}}}%%
graph TD
    Start([👤 User Starts]) --> Input[📝 Enter Natural Language<br/>Description]
    Input --> Validate{✅ Valid<br/>Prompt?}
    Validate -->|No| Suggestions[💡 Show Suggestions]
    Suggestions --> Input
    Validate -->|Yes| Extract[🔄 Extract Entities<br/>via Groq LLM]
    Extract --> Review{👀 Review<br/>Entities?}
    Review -->|Edit| EditModel[✏️ Edit Metamodel<br/>Add/Remove/Modify]
    EditModel --> Review
    Review -->|Confirm| Choice{🎯 What to<br/>Generate?}

    Choice -->|SQL| SelectDialect[🗄️ Select SQL Dialect]
    SelectDialect --> GenSQL[💾 Generate SQL Code]
    GenSQL --> Execute{🚀 Execute on<br/>Database?}
    Execute -->|Yes| ConnectDB[🔌 Configure Connection]
    ConnectDB --> TestConn{🧪 Test<br/>Connection?}
    TestConn -->|Fail| FixConfig[🔧 Fix Configuration]
    FixConfig --> ConnectDB
    TestConn -->|Success| CreateDB[✨ Create Database]
    CreateDB --> Verify[✓ Verify in DBMS]
    Execute -->|No| Download[📥 Download SQL]

    Choice -->|UML| GenUML[📊 Generate UML Diagrams]
    GenUML --> ViewDiagram[👁️ View PlantUML/Mermaid]

    Choice -->|Optimize| Analyze[🔍 Analyze Schema Quality]
    Analyze --> ShowSuggestions[💡 Show Optimization<br/>Suggestions]

    Choice -->|Sample Data| GenData[🎲 Generate Sample Data]
    GenData --> ExportData[📤 Export JSON/SQL/CSV]

    Download --> End([✅ Complete])
    Verify --> End
    ViewDiagram --> End
    ShowSuggestions --> End
    ExportData --> End

    style Start fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
    style End fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
    style Extract fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
    style GenSQL fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
    style CreateDB fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
```

---

## ✨ Features

### 🎨 Core Features

<details>
<summary><b>1. 🗣️ Natural Language Processing</b></summary>

- **Intelligent Prompt Validation**: AI checks if your description is sufficient
- **Entity Recognition**: Automatically identifies tables and their relationships
- **Attribute Extraction**: Detects columns, data types, and constraints
- **Relationship Inference**: Determines foreign keys and cardinality

</details>

<details>
<summary><b>2. 🎯 Interactive Metamodel Editor</b></summary>

- **Visual Entity Cards**: Clean, modern interface for each table
- **Drag-and-Drop**: Reorder entities and attributes
- **Live Editing**: Add, modify, delete entities and attributes in real-time
- **Relationship Management**: Visual relationship editor with cardinality selection

</details>

<details>
<summary><b>3. 💾 Multi-Database SQL Generation</b></summary>

| Database | Version | Special Features |
|----------|---------|------------------|
| 🐘 **PostgreSQL** | 9.0+ | SERIAL, JSONB, advanced constraints |
| 🐬 **MySQL** | 5.7+ | AUTO_INCREMENT, ENGINE=InnoDB |
| 📦 **SQLite** | 3.0+ | Lightweight, zero-config |
| 🏢 **SQL Server** | 2016+ | IDENTITY, NVARCHAR |
| 🔴 **Oracle** | 11g+ | SEQUENCE, NUMBER types |

</details>

<details>
<summary><b>4. 📊 UML Diagram Generation</b></summary>

- **PlantUML Class Diagrams**: Industry-standard UML notation
- **Mermaid ER Diagrams**: Modern, GitHub-compatible diagrams
- **Automatic Rendering**: Real-time diagram visualization
- **Export Options**: Download as PNG or SVG

</details>

<details>
<summary><b>5. 🚀 Database Execution</b></summary>

- **Direct Connection**: Connect to PostgreSQL, MySQL, SQLite servers
- **Automatic Schema Creation**: One-click database deployment
- **Connection Testing**: Verify credentials before execution
- **Multi-Database Support**: Switch between different database types

</details>

<details>
<summary><b>6. 🔍 Schema Optimization Analysis</b></summary>

- **AI-Powered Suggestions**: Intelligent schema improvements
- **Performance Tips**: Indexing, normalization, denormalization advice
- **Security Checks**: Identify potential security issues
- **Best Practices**: Industry standards and conventions
- **Priority Scoring**: High/Medium/Low priority recommendations

</details>

<details>
<summary><b>7. 🎲 Sample Data Generation</b></summary>

- **Smart Field Recognition**: Detects names, emails, dates, etc.
- **Realistic Data**: Uses Faker library for authentic-looking data
- **Configurable Volume**: Choose number of rows per table
- **Multiple Formats**: Export as JSON, SQL INSERT statements, CSV
- **Referential Integrity**: Maintains foreign key relationships

</details>

---

## 🛠️ Technology Stack

### Frontend Stack

<div align="center">

| Technology | Version | Purpose | Badge |
|------------|---------|---------|-------|
| **React** | 18.2+ | UI Framework | ![React](https://img.shields.io/badge/React-18.2+-61DAFB?style=flat&logo=react&logoColor=black) |
| **TypeScript** | 5.0+ | Type Safety | ![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?style=flat&logo=typescript&logoColor=white) |
| **Material-UI** | 5.14+ | Component Library | ![MUI](https://img.shields.io/badge/MUI-5.14+-007FFF?style=flat&logo=mui&logoColor=white) |
| **Vite** | 4.4+ | Build Tool | ![Vite](https://img.shields.io/badge/Vite-4.4+-646CFF?style=flat&logo=vite&logoColor=white) |
| **Axios** | 1.5+ | HTTP Client | ![Axios](https://img.shields.io/badge/Axios-1.5+-5A29E4?style=flat&logo=axios&logoColor=white) |

</div>

### Backend Stack

<div align="center">

| Technology | Version | Purpose | Badge |
|------------|---------|---------|-------|
| **Python** | 3.9+ | Backend Language | ![Python](https://img.shields.io/badge/Python-3.9+-3776AB?style=flat&logo=python&logoColor=white) |
| **FastAPI** | 0.104+ | Web Framework | ![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-009688?style=flat&logo=fastapi&logoColor=white) |
| **Pydantic** | 2.4+ | Data Validation | ![Pydantic](https://img.shields.io/badge/Pydantic-2.4+-E92063?style=flat&logo=pydantic&logoColor=white) |
| **SQLAlchemy** | 2.0+ | Database ORM | ![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0+-D71F00?style=flat&logo=sqlalchemy&logoColor=white) |
| **Jinja2** | 3.1+ | Template Engine | ![Jinja](https://img.shields.io/badge/Jinja2-3.1+-B41717?style=flat&logo=jinja&logoColor=white) |
| **Groq SDK** | 0.4+ | LLM API Client | ![Groq](https://img.shields.io/badge/Groq-0.4+-FF6B00?style=flat) |

</div>

### AI & External Services

<div align="center">

| Service | Model/Version | Purpose |
|---------|---------------|---------|
| **Groq API** | llama-3.1-8b-instant | Natural language understanding |
| **PlantUML Server** | Latest | UML diagram rendering |

</div>

---

## 📸 Screenshots

<div align="center">

### 1️⃣ Natural Language Input & Validation

<img src="./docs/screenshots/step1-input.png" alt="Step 1 - Natural Language Input" width="100%"/>

> Users describe their database in plain English. AI validates the prompt in real-time.

---

### 2️⃣ Prompt Validation Results

<img src="./docs/screenshots/step2-validation.png" alt="Step 2 - Validation" width="100%"/>

> Instant feedback showing whether the prompt is sufficient for database generation.

---

### 3️⃣ Entity Extraction & Review

<img src="./docs/screenshots/step3-entities.png" alt="Step 3 - Entities" width="100%"/>

> AI-extracted entities with attributes and relationships ready for review.

---

### 4️⃣ Interactive Metamodel Editor

<img src="./docs/screenshots/step4-editor.png" alt="Step 4 - Editor" width="100%"/>

> Drag-and-drop visual editor for refining the database schema.

---

### 5️⃣ Multi-Dialect SQL Generation

<img src="./docs/screenshots/step5-sql.png" alt="Step 5 - SQL" width="100%"/>

> Generate SQL code for 5 different database platforms with syntax highlighting.

---

### 6️⃣ Database Connection & Execution

<img src="./docs/screenshots/database-connection.png" alt="Database Connection" width="100%"/>

> 3-step wizard: Configure → Test → Execute on real databases.

---

### 7️⃣ UML Diagram Visualization

<img src="./docs/screenshots/uml-diagrams.png" alt="UML Diagrams" width="100%"/>

> Auto-generated PlantUML and Mermaid diagrams showing entity relationships.

---

### 8️⃣ AI-Powered Schema Optimization

<img src="./docs/screenshots/optimization.png" alt="Optimization" width="100%"/>

> Intelligent suggestions for improving schema quality, performance, and security.

---

### 9️⃣ Smart Sample Data Generator

<img src="./docs/screenshots/sample-data.png" alt="Sample Data" width="100%"/>

> Generate realistic test data with smart field recognition.

</div>

---

## 🚀 Installation & Setup

### Prerequisites

<div align="center">

| Requirement | Version | Download |
|-------------|---------|----------|
| 🟢 **Node.js** | 16+ | [nodejs.org](https://nodejs.org/) |
| 🐍 **Python** | 3.9+ | [python.org](https://www.python.org/) |
| 📦 **Git** | Latest | [git-scm.com](https://git-scm.com/) |
| 🔑 **Groq API Key** | Free | [console.groq.com](https://console.groq.com) |

**Optional (for database execution):**
- 🐘 PostgreSQL
- 🐬 MySQL
- 📦 SQLite (built-in)

</div>

### Quick Start (5 minutes)

```bash
# 1️⃣ Clone the repository
git clone https://github.com/yousef-elgarch1/NL2SQL-Designer-.git
cd NL2SQL-Designer

# 2️⃣ Backend Setup
cd backend
python -m venv venv

# Windows:
.\venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

pip install -r requirements.txt

# Create .env file
cp .env.example .env
# Edit .env and add: GROQ_API_KEY=your_key_here

# 3️⃣ Frontend Setup (new terminal)
cd frontend
npm install
cp .env.example .env

# 4️⃣ Start Backend (Terminal 1)
cd backend
.\venv\Scripts\activate  # Windows
python main.py
# Backend runs on: http://127.0.0.1:8000

# 5️⃣ Start Frontend (Terminal 2)
cd frontend
npm run dev
# Frontend runs on: http://localhost:3001

# 6️⃣ Open browser
# Navigate to: http://localhost:3001
```

### Get Your Free Groq API Key

1. Visit [console.groq.com](https://console.groq.com)
2. Sign up for a free account
3. Navigate to **API Keys** section
4. Click **"Create API Key"**
5. Copy the key to `backend/.env`:
   ```env
   GROQ_API_KEY=gsk_your_actual_key_here
   ```

---

## 📖 Usage Guide

### Complete Workflow Example

Let's create a **Library Management System**:

<details>
<summary><b>📝 Step 1: Enter Natural Language Description</b></summary>

```text
Create a library management system with books, authors, borrowers, and loans.

Books have a title, ISBN, publication year, and belong to one author.
Authors have a name, email, and biography.
Borrowers have a name, email, membership date, and phone number.
Loans track which borrower borrowed which book, with borrow date, due date, and return date.
```

Click **"Validate Prompt"** → ✅ Validation successful!

</details>

<details>
<summary><b>🔄 Step 2: Extract Entities</b></summary>

Click **"Extract Entities"** → AI analyzes your prompt

**Expected Entities:**
- 📚 **Book**: id, title, isbn, publication_year, author_id
- ✍️ **Author**: id, name, email, biography
- 👤 **Borrower**: id, name, email, membership_date, phone
- 📋 **Loan**: id, book_id, borrower_id, borrow_date, due_date, return_date

**Relationships:**
- Book → Author (many-to-one)
- Loan → Book (many-to-one)
- Loan → Borrower (many-to-one)

</details>

<details>
<summary><b>✏️ Step 3: Edit Metamodel</b></summary>

Review and customize:
- ➕ Add/remove attributes
- 🔄 Change data types
- 🔗 Modify relationships
- ✅ Set constraints (nullable, unique)

</details>

<details>
<summary><b>💾 Step 4: Generate SQL</b></summary>

1. Select **SQL Dialect**: MySQL
2. Click **"Generate SQL"**
3. Review generated code:

```sql
CREATE TABLE Authors (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE,
    biography TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE Books (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    isbn VARCHAR(13) UNIQUE,
    publication_year INT,
    author_id INT,
    FOREIGN KEY (author_id) REFERENCES Authors(id)
        ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ... more tables
```

</details>

<details>
<summary><b>🚀 Step 5: Execute on Database</b></summary>

1. Click **"Execute on Database"**
2. Enter credentials:
   - **Host**: localhost
   - **Port**: 3306
   - **Username**: root
   - **Password**: your_password
   - **Database**: library_db
3. Click **"Test Connection"** → ✅
4. Check ☑️ "Create database if doesn't exist"
5. Click **"Execute"** → ✅ Database created!

</details>

<details>
<summary><b>✅ Step 6: Verify in MySQL</b></summary>

```sql
SHOW DATABASES;
USE library_db;
SHOW TABLES;
DESCRIBE Books;
SELECT * FROM Books;
```

</details>

---

## 📁 Project Structure

<details>
<summary>Click to expand full structure</summary>

```
NL2SQL_Designer/
├── 📂 backend/                          # FastAPI Backend
│   ├── 📂 models/                       # Metamodel Definitions
│   │   ├── metamodel.py                 # ⭐ Core: Entity, Attribute, Relationship
│   │   └── schemas.py                   # API request/response models
│   ├── 📂 services/                     # Business Logic
│   │   ├── entity_extractor.py          # ⭐ T2M: NL → Metamodel
│   │   ├── sql_generator.py             # ⭐ M2T: Metamodel → SQL
│   │   ├── plantuml_generator.py        # ⭐ M2T: Metamodel → UML
│   │   ├── mermaid_service.py           # Mermaid diagram generation
│   │   ├── database_executor.py         # Database execution
│   │   ├── optimization_service.py      # Schema analysis
│   │   ├── sample_data_service.py       # Test data generation
│   │   └── fast_llm_service.py          # Groq LLM integration
│   ├── 📂 routers/                      # API Routes
│   │   ├── prompt_router.py             # /prompt/* endpoints
│   │   ├── sql_router.py                # /sql/* endpoints
│   │   ├── diagram_router.py            # /diagram/* endpoints
│   │   └── database_router.py           # /database/* endpoints
│   ├── 📂 templates/                    # ⭐ Jinja2 SQL Templates (M2T)
│   │   ├── postgresql.sql.j2
│   │   ├── mysql.sql.j2
│   │   ├── sqlite.sql.j2
│   │   ├── sqlserver.sql.j2
│   │   └── oracle.sql.j2
│   ├── 📂 prompts/                      # LLM System Prompts
│   │   ├── validation_prompt.txt
│   │   └── extraction_prompt.txt
│   ├── main.py                          # FastAPI entry point
│   ├── requirements.txt                 # Python dependencies
│   └── .env.example                     # Environment template
│
├── 📂 frontend/                         # React Frontend
│   ├── 📂 src/
│   │   ├── 📂 components/               # React Components
│   │   │   ├── PromptInput.tsx          # Step 1: NL input
│   │   │   ├── ValidationPanel.tsx      # Step 2: Validation
│   │   │   ├── AttributeEditor.tsx      # Step 4: Editor
│   │   │   ├── SQLViewer.tsx            # Step 5: SQL display
│   │   │   ├── DiagramViewer.tsx        # UML viewer
│   │   │   ├── DatabaseConnectionForm.tsx  # DB execution
│   │   │   ├── OptimizationSuggestions.tsx # Analysis
│   │   │   └── SampleDataGenerator.tsx  # Data generation
│   │   ├── 📂 services/                 # API Clients
│   │   │   ├── promptService.ts
│   │   │   ├── sqlService.ts
│   │   │   └── databaseService.ts
│   │   ├── 📂 types/                    # TypeScript Types
│   │   │   ├── metamodel.ts
│   │   │   └── api.ts
│   │   ├── App.tsx                      # Main app
│   │   ├── theme.ts                     # MUI theme
│   │   └── main.tsx                     # Entry point
│   ├── package.json
│   └── vite.config.ts
│
├── 📂 docs/                             # Documentation
│   ├── 📂 screenshots/                  # Application screenshots
│   ├── SCREENSHOT_GUIDE.md
│   ├── PRESENTATION_NOTES.md
│   └── NEXT_STEPS.md
│
├── README.md                            # ⭐ This file
├── QUICK_START.md                       # Quick reference
└── .gitignore
```

</details>

---

## 📡 API Documentation

### Base URL
```
http://127.0.0.1:8000
```

### Interactive API Docs
When backend is running, visit:
- **Swagger UI**: http://127.0.0.1:8000/docs
- **ReDoc**: http://127.0.0.1:8000/redoc

### Key Endpoints

<details>
<summary><b>🗣️ POST /prompt/validate</b> - Validate natural language prompt</summary>

**Request:**
```json
{
  "prompt": "Create a library with books and authors"
}
```

**Response:**
```json
{
  "is_valid": true,
  "message": "Prompt is valid and contains sufficient information.",
  "suggestions": []
}
```

</details>

<details>
<summary><b>📊 POST /prompt/extract</b> - Extract entities from prompt</summary>

**Request:**
```json
{
  "prompt": "Create a library with books and authors"
}
```

**Response:**
```json
{
  "entities": [
    {
      "name": "Book",
      "attributes": [
        {"name": "id", "data_type": "INTEGER", "is_primary_key": true},
        {"name": "title", "data_type": "VARCHAR", "length": 255}
      ]
    }
  ],
  "relationships": [
    {
      "name": "book_author",
      "source_entity": "Book",
      "target_entity": "Author",
      "cardinality": "many_to_one"
    }
  ]
}
```

</details>

<details>
<summary><b>💾 POST /sql/generate</b> - Generate SQL from metamodel</summary>

**Request:**
```json
{
  "metamodel": { "entities": [...], "relationships": [...] },
  "dialect": "mysql"
}
```

**Response:**
```json
{
  "sql_code": "CREATE TABLE Books (...);",
  "dialect": "mysql"
}
```

</details>

<details>
<summary><b>🚀 POST /database/execute</b> - Execute SQL on real database</summary>

**Request:**
```json
{
  "config": {
    "dbms": "mysql",
    "host": "localhost",
    "port": 3306,
    "username": "root",
    "password": "password",
    "database": "library_db"
  },
  "sql_script": "CREATE TABLE Books (...);",
  "create_database": true
}
```

**Response:**
```json
{
  "success": true,
  "message": "Schema created successfully! 4 tables created.",
  "tables_created": ["Books", "Authors", "Borrowers", "Loans"]
}
```

</details>

---

## 🔮 Future Enhancements

### 🎯 Short-term (Next Release)

- [ ] **Reverse Engineering**: Import existing database schemas
- [ ] **Schema Comparison**: Diff tool for schema versions
- [ ] **Migration Scripts**: Generate ALTER TABLE statements
- [ ] **NoSQL Support**: MongoDB, Cassandra schema generation
- [ ] **GraphQL Schema**: Generate GraphQL types from metamodel
- [ ] **API Generation**: Auto-generate REST API endpoints

### 🚀 Medium-term

- [ ] **Collaborative Editing**: Real-time multi-user schema design
- [ ] **Version Control**: Git-like versioning for schemas
- [ ] **Template Library**: Pre-built schemas (e-commerce, blog, etc.)
- [ ] **Advanced Constraints**: CHECK, triggers, stored procedures
- [ ] **Performance Testing**: Benchmark generated schemas
- [ ] **Cloud Deployment**: One-click to AWS RDS, Azure SQL

### 🌟 Long-term

- [ ] **AI Schema Advisor**: Suggest optimal schema based on use case
- [ ] **Auto-Scaling Recommendations**: Sharding, partitioning strategies
- [ ] **Security Auditing**: Automated vulnerability detection
- [ ] **Data Lineage Tracking**: Track data flow across entities
- [ ] **ML Integration**: Predict schema evolution needs
- [ ] **Natural Language Queries**: NL → SQL queries (not just schemas)

---

## 🤝 Contributing

We welcome contributions! Here's how you can help:

### 🐛 Reporting Bugs

1. Check [existing issues](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues)
2. Create new issue with:
   - Clear title
   - Steps to reproduce
   - Expected vs actual behavior
   - Screenshots
   - Environment details

### 💡 Suggesting Features

1. Open a [Feature Request](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues/new)
2. Describe the feature and use case
3. Explain why it fits MDE philosophy

### 🔧 Code Contributions

```bash
# 1. Fork the repository
# 2. Create feature branch
git checkout -b feature/amazing-feature

# 3. Make changes and commit
git commit -m "Add amazing feature"

# 4. Push to your fork
git push origin feature/amazing-feature

# 5. Open Pull Request
```

### 📝 Code Style

**Backend (Python):**
- Follow PEP 8
- Use type hints
- Write docstrings

**Frontend (TypeScript):**
- Use ESLint + Prettier
- Follow React best practices
- Write JSDoc comments

---

## 📄 License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

---

## 🙏 Acknowledgments

<div align="center">

### Special Thanks To:

**🎓 Our Professor** - For teaching Model-Driven Engineering principles
**⚡ Groq** - For providing lightning-fast LLM inference
**🦙 Meta** - For open-sourcing Llama 3.1
**📊 PlantUML** - For UML diagram rendering
**🎨 Material-UI** - For beautiful React components
**🚀 FastAPI** - For the excellent Python web framework
**🌍 Open Source Community** - For amazing tools and libraries

</div>

---

## 📞 Contact & Support

<div align="center">

### Get in Touch

**📧 Project Lead:** Youssef ELGARCH
**🐙 GitHub:** [@yousef-elgarch1](https://github.com/yousef-elgarch1)
**🌐 Repository:** [NL2SQL-Designer](https://github.com/yousef-elgarch1/NL2SQL-Designer-)
**🐛 Report Issues:** [GitHub Issues](https://github.com/yousef-elgarch1/NL2SQL-Designer-/issues)

---

### Documentation & Resources

📖 **API Documentation:** http://127.0.0.1:8000/docs (when running)
🎥 **Video Tutorial:** Coming Soon
📚 **Full Docs:** Coming Soon

---

### Project Statistics

![Lines of Code](https://img.shields.io/badge/Lines_of_Code-17000+-blue?style=for-the-badge)
![Files](https://img.shields.io/badge/Files-80+-green?style=for-the-badge)
![Components](https://img.shields.io/badge/Components-14-purple?style=for-the-badge)
![API Endpoints](https://img.shields.io/badge/API_Endpoints-11-orange?style=for-the-badge)

---

<img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&size=32&duration=2800&pause=2000&color=3B82F6&center=true&vCenter=true&width=940&lines=Made+with+%E2%9D%A4%EF%B8%8F+by+Team+NL2SQL;Model-Driven+Engineering+Course+2024-2025;Transform+Ideas+into+Databases+with+AI!" alt="Typing SVG" />

**[⬆ Back to Top](#-nl2sql-designer)**

</div>

---

<div align="center">

**🤖 Powered by Groq ⚡ Llama 3.1 🦙 Built with FastAPI 🚀 Designed with Material-UI 🎨**

</div>
